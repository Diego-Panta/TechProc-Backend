{
	"info": {
		"_postman_id": "chatbot-gemini-ai-collection",
		"name": "TechProc - Chatbot Gemini AI",
		"description": "Colección completa para testear el chatbot con integración de Gemini AI, FAQs inteligentes y configuración dinámica",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "1. Chatbot Conversations (Gemini AI)",
			"item": [
				{
					"name": "1.1 Start Conversation",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/conversation/start",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "conversation", "start"]
						}
					},
					"response": []
				},
				{
					"name": "1.2 Send Message (with FAQ matching)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"conversation_id\": 1,\n    \"message\": \"¿Cómo puedo inscribirme en un curso?\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/conversation/message",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "conversation", "message"]
						}
					},
					"response": []
				},
				{
					"name": "1.3 Send Message (Gemini AI fallback)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"conversation_id\": 1,\n    \"message\": \"¿Cuál es la mejor manera de aprender programación?\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/conversation/message",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "conversation", "message"]
						}
					},
					"response": []
				},
				{
					"name": "1.4 End Conversation (with feedback)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"conversation_id\": 1,\n    \"feedback\": {\n        \"rating\": 5,\n        \"comment\": \"Excelente servicio, muy útil\",\n        \"resolved\": true\n    }\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/conversation/end",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "conversation", "end"]
						}
					},
					"response": []
				},
				{
					"name": "1.5 Get Conversation History",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/conversations/1",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "conversations", "1"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "2. FAQs Management",
			"item": [
				{
					"name": "2.1 Get All FAQs (Public)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/faqs/public",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "faqs", "public"]
						}
					},
					"response": []
				},
				{
					"name": "2.2 Get FAQ by ID (Public)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/faqs/public/1",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "faqs", "public", "1"]
						}
					},
					"response": []
				},
				{
					"name": "2.3 Get FAQ Categories",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/faqs/categories",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "faqs", "categories"]
						}
					},
					"response": []
				},
				{
					"name": "2.4 Get All FAQs (Admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/faqs?page=1&per_page=15",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "faqs"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "per_page",
									"value": "15"
								},
								{
									"key": "category",
									"value": "general",
									"disabled": true
								},
								{
									"key": "active",
									"value": "1",
									"disabled": true
								},
								{
									"key": "search",
									"value": "curso",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "2.5 Create FAQ",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"question\": \"¿Cómo puedo inscribirme en un curso?\",\n    \"answer\": \"Para inscribirte en un curso, ve a la sección de cursos disponibles, selecciona el curso de tu interés y haz clic en el botón 'Inscribirse'. Necesitarás tener una cuenta activa y completar el proceso de pago si es un curso de pago.\",\n    \"category\": \"academico\",\n    \"keywords\": [\"inscripción\", \"matricula\", \"registro\", \"curso\"],\n    \"active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/faqs",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "faqs"]
						}
					},
					"response": []
				},
				{
					"name": "2.6 Update FAQ",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"question\": \"¿Cómo puedo inscribirme en un curso? (Actualizado)\",\n    \"answer\": \"Para inscribirte en un curso actualizado, ve a la sección de cursos disponibles, selecciona el curso de tu interés y haz clic en el botón 'Inscribirse'. Necesitarás tener una cuenta activa.\",\n    \"category\": \"academico\",\n    \"keywords\": [\"inscripción\", \"matricula\", \"registro\", \"curso\", \"actualizado\"],\n    \"active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/faqs/1",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "faqs", "1"]
						}
					},
					"response": []
				},
				{
					"name": "2.7 Delete FAQ",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/faqs/1",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "faqs", "1"]
						}
					},
					"response": []
				},
				{
					"name": "2.8 Get FAQ Stats",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/faqs/stats/summary",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "faqs", "stats", "summary"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "3. Chatbot Configuration",
			"item": [
				{
					"name": "3.1 Get Config",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/config",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "config"]
						}
					},
					"response": []
				},
				{
					"name": "3.2 Update Config",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"enabled\": true,\n    \"greeting_message\": \"¡Hola! Soy el asistente virtual de TechProc. ¿En qué puedo ayudarte hoy?\",\n    \"fallback_message\": \"Lo siento, no entendí tu pregunta. ¿Podrías reformularla de otra manera?\",\n    \"response_delay\": 1500,\n    \"max_conversations_per_day\": 2000,\n    \"contact_threshold\": 3\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/config",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "config"]
						}
					},
					"response": []
				},
				{
					"name": "3.3 Reset Config to Default",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/config/reset",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "config", "reset"]
						}
					},
					"response": []
				},
				{
					"name": "3.4 Health Check",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/config/health",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "config", "health"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "4. Analytics & Statistics",
			"item": [
				{
					"name": "4.1 Get Complete Analytics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/analytics/summary",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "analytics", "summary"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "5. Sample FAQs Data (Seeders)",
			"item": [
				{
					"name": "5.1 Create FAQ - Inscripción",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"question\": \"¿Cómo me inscribo en un curso?\",\n    \"answer\": \"Para inscribirte en un curso, inicia sesión en tu cuenta, navega a la sección de cursos, selecciona el curso deseado y haz clic en 'Inscribirse'. Si es de pago, completa el proceso de pago.\",\n    \"category\": \"academico\",\n    \"keywords\": [\"inscripción\", \"curso\", \"matricula\", \"registro\"],\n    \"active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/faqs",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "faqs"]
						}
					},
					"response": []
				},
				{
					"name": "5.2 Create FAQ - Pagos",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"question\": \"¿Qué métodos de pago aceptan?\",\n    \"answer\": \"Aceptamos tarjetas de crédito/débito (Visa, Mastercard), transferencias bancarias y PayPal. También ofrecemos planes de pago para algunos cursos.\",\n    \"category\": \"pagos\",\n    \"keywords\": [\"pago\", \"tarjeta\", \"transferencia\", \"paypal\", \"precio\"],\n    \"active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/faqs",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "faqs"]
						}
					},
					"response": []
				},
				{
					"name": "5.3 Create FAQ - Soporte Técnico",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"question\": \"No puedo acceder a mi cuenta, ¿qué hago?\",\n    \"answer\": \"Si no puedes acceder a tu cuenta: 1) Verifica tu usuario y contraseña, 2) Usa la opción 'Olvidé mi contraseña', 3) Si el problema persiste, contacta a soporte@techproc.com con tu información de registro.\",\n    \"category\": \"tecnico\",\n    \"keywords\": [\"acceso\", \"login\", \"contraseña\", \"cuenta\", \"problema\"],\n    \"active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/faqs",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "faqs"]
						}
					},
					"response": []
				},
				{
					"name": "5.4 Create FAQ - Certificados",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"question\": \"¿Cómo obtengo mi certificado?\",\n    \"answer\": \"Los certificados se emiten automáticamente al completar el 100% del curso y aprobar todas las evaluaciones con al menos 70%. Puedes descargarlo desde tu perfil en la sección 'Mis Certificados'.\",\n    \"category\": \"academico\",\n    \"keywords\": [\"certificado\", \"diploma\", \"completar\", \"aprobar\"],\n    \"active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/faqs",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "faqs"]
						}
					},
					"response": []
				},
				{
					"name": "5.5 Create FAQ - Horarios",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"question\": \"¿Cuál es el horario de atención?\",\n    \"answer\": \"Nuestro horario de atención es de lunes a viernes de 8:00 AM a 6:00 PM. Los cursos en línea están disponibles 24/7. El soporte técnico responde en un máximo de 24 horas hábiles.\",\n    \"category\": \"general\",\n    \"keywords\": [\"horario\", \"atención\", \"disponibilidad\", \"soporte\"],\n    \"active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/developer-web/chatbot/faqs",
							"host": ["{{base_url}}"],
							"path": ["api", "developer-web", "chatbot", "faqs"]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		},
		{
			"key": "auth_token",
			"value": "",
			"type": "string"
		}
	]
}
