-- DROP SCHEMA public;

CREATE SCHEMA public AUTHORIZATION pg_database_owner;

-- DROP SEQUENCE public.academic_periods_id_seq;

CREATE SEQUENCE public.academic_periods_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.accounts_id_seq;

CREATE SEQUENCE public.accounts_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.accreditations_id_seq;

CREATE SEQUENCE public.accreditations_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.active_sessions_id_seq;

CREATE SEQUENCE public.active_sessions_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.activity_logs_id_seq;

CREATE SEQUENCE public.activity_logs_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.agreements_id_seq;

CREATE SEQUENCE public.agreements_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.alerts_id_seq;

CREATE SEQUENCE public.alerts_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.announcements_id_seq;

CREATE SEQUENCE public.announcements_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.attempts_id_seq;

CREATE SEQUENCE public.attempts_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.attendances_id_seq;

CREATE SEQUENCE public.attendances_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.audit_logs_id_seq;

CREATE SEQUENCE public.audit_logs_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.audit_reports_id_seq;

CREATE SEQUENCE public.audit_reports_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.audits_id_seq;

CREATE SEQUENCE public.audits_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.blocked_ips_id_seq;

CREATE SEQUENCE public.blocked_ips_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.bot_flows_id_seq;

CREATE SEQUENCE public.bot_flows_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.budget_impacts_id_budget_impact_seq;

CREATE SEQUENCE public.budget_impacts_id_budget_impact_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.budgets_id_budget_seq;

CREATE SEQUENCE public.budgets_id_budget_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.campaign_metrics_id_seq;

CREATE SEQUENCE public.campaign_metrics_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.campaigns_id_seq;

CREATE SEQUENCE public.campaigns_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.candidates_id_seq;

CREATE SEQUENCE public.candidates_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.categories_id_seq;

CREATE SEQUENCE public.categories_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.certificates_id_seq;

CREATE SEQUENCE public.certificates_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.channels_id_seq;

CREATE SEQUENCE public.channels_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.chat_messages_id_seq;

CREATE SEQUENCE public.chat_messages_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.chatbot_conversations_id_seq;

CREATE SEQUENCE public.chatbot_conversations_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.chatbot_faqs_id_seq;

CREATE SEQUENCE public.chatbot_faqs_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.chatbot_messages_id_seq;

CREATE SEQUENCE public.chatbot_messages_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.claim_assignments_id_seq;

CREATE SEQUENCE public.claim_assignments_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.claims_id_seq;

CREATE SEQUENCE public.claims_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.classes_id_seq;

CREATE SEQUENCE public.classes_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.community_events_id_seq;

CREATE SEQUENCE public.community_events_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.companies_id_seq;

CREATE SEQUENCE public.companies_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.contact_forms_id_seq;

CREATE SEQUENCE public.contact_forms_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.content_performance_id_seq;

CREATE SEQUENCE public.content_performance_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.contents_id_seq;

CREATE SEQUENCE public.contents_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.conversations_id_seq;

CREATE SEQUENCE public.conversations_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.corrective_actions_id_seq;

CREATE SEQUENCE public.corrective_actions_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.course_categories_id_seq;

CREATE SEQUENCE public.course_categories_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.course_contents_id_seq;

CREATE SEQUENCE public.course_contents_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.course_instructors_id_seq;

CREATE SEQUENCE public.course_instructors_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.course_offerings_id_seq;

CREATE SEQUENCE public.course_offerings_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.course_previous_requirements_id_seq;

CREATE SEQUENCE public.course_previous_requirements_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.courses_id_seq;

CREATE SEQUENCE public.courses_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.dashboards_id_seq;

CREATE SEQUENCE public.dashboards_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.departments_id_seq;

CREATE SEQUENCE public.departments_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.detail_evaluation_criteria_id_seq;

CREATE SEQUENCE public.detail_evaluation_criteria_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.diplomas_id_seq;

CREATE SEQUENCE public.diplomas_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.document_audits_id_seq;

CREATE SEQUENCE public.document_audits_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.document_histories_id_seq;

CREATE SEQUENCE public.document_histories_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.document_templates_id_seq;

CREATE SEQUENCE public.document_templates_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.document_versions_id_seq;

CREATE SEQUENCE public.document_versions_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.documentary_processings_id_seq;

CREATE SEQUENCE public.documentary_processings_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.documents_id_seq;

CREATE SEQUENCE public.documents_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.employability_questions_id_seq;

CREATE SEQUENCE public.employability_questions_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.employability_surveys_id_seq;

CREATE SEQUENCE public.employability_surveys_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.employees_id_seq;

CREATE SEQUENCE public.employees_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.enrollment_details_id_seq;

CREATE SEQUENCE public.enrollment_details_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.enrollment_payments_id_seq;

CREATE SEQUENCE public.enrollment_payments_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.enrollments_id_seq;

CREATE SEQUENCE public.enrollments_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.escalations_id_seq;

CREATE SEQUENCE public.escalations_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.evaluation_criteria_id_seq;

CREATE SEQUENCE public.evaluation_criteria_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.evaluation_reports_id_seq;

CREATE SEQUENCE public.evaluation_reports_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.evaluations_id_seq;

CREATE SEQUENCE public.evaluations_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.evidences_id_seq;

CREATE SEQUENCE public.evidences_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.extracurricular_activities_id_seq;

CREATE SEQUENCE public.extracurricular_activities_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.extracurricular_enrollments_id_seq;

CREATE SEQUENCE public.extracurricular_enrollments_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.final_grades_id_seq;

CREATE SEQUENCE public.final_grades_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.financial_transactions_id_seq;

CREATE SEQUENCE public.financial_transactions_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.findings_id_seq;

CREATE SEQUENCE public.findings_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.forums_id_seq;

CREATE SEQUENCE public.forums_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.generation_logs_id_seq;

CREATE SEQUENCE public.generation_logs_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.grade_changes_id_seq;

CREATE SEQUENCE public.grade_changes_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.grade_configurations_id_seq;

CREATE SEQUENCE public.grade_configurations_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.grade_records_id_seq;

CREATE SEQUENCE public.grade_records_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.gradings_id_seq;

CREATE SEQUENCE public.gradings_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.graduate_surveys_id_seq;

CREATE SEQUENCE public.graduate_surveys_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.graduates_id_seq;

CREATE SEQUENCE public.graduates_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.group_participants_id_seq;

CREATE SEQUENCE public.group_participants_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.groups_id_seq;

CREATE SEQUENCE public.groups_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.incidents_id_seq;

CREATE SEQUENCE public.incidents_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.indicator_alerts_id_seq;

CREATE SEQUENCE public.indicator_alerts_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.indicator_measurements_id_seq;

CREATE SEQUENCE public.indicator_measurements_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.indicators_id_seq;

CREATE SEQUENCE public.indicators_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.initiative_evaluations_id_seq;

CREATE SEQUENCE public.initiative_evaluations_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.initiatives_id_seq;

CREATE SEQUENCE public.initiatives_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.instructor_applications_id_seq;

CREATE SEQUENCE public.instructor_applications_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.instructor_evaluations_id_seq;

CREATE SEQUENCE public.instructor_evaluations_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.instructors_id_seq;

CREATE SEQUENCE public.instructors_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.invoices_id_seq;

CREATE SEQUENCE public.invoices_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.job_applications_id_seq;

CREATE SEQUENCE public.job_applications_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.job_vacancies_id_seq;

CREATE SEQUENCE public.job_vacancies_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.kpi_measurements_id_seq;

CREATE SEQUENCE public.kpi_measurements_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.kpis_id_seq;

CREATE SEQUENCE public.kpis_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.leads_id_seq;

CREATE SEQUENCE public.leads_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.licenses_id_seq;

CREATE SEQUENCE public.licenses_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.locations_id_seq;

CREATE SEQUENCE public.locations_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.messages_id_seq;

CREATE SEQUENCE public.messages_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.moderations_id_seq;

CREATE SEQUENCE public.moderations_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.news_id_seq;

CREATE SEQUENCE public.news_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.notifications_id_seq;

CREATE SEQUENCE public.notifications_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.option_criteria_id_seq;

CREATE SEQUENCE public.option_criteria_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.option_job_questions_id_seq;

CREATE SEQUENCE public.option_job_questions_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.partners_id_seq;

CREATE SEQUENCE public.partners_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.payment_methods_id_seq;

CREATE SEQUENCE public.payment_methods_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.payment_plans_id_seq;

CREATE SEQUENCE public.payment_plans_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.payments_id_seq;

CREATE SEQUENCE public.payments_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.performance_evaluations_id_seq;

CREATE SEQUENCE public.performance_evaluations_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.positions_id_seq;

CREATE SEQUENCE public.positions_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.professional_social_impacts_id_seq;

CREATE SEQUENCE public.professional_social_impacts_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.program_courses_id_seq;

CREATE SEQUENCE public.program_courses_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.programs_id_seq;

CREATE SEQUENCE public.programs_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.publications_id_seq;

CREATE SEQUENCE public.publications_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.questions_id_seq;

CREATE SEQUENCE public.questions_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.response_graduates_id_seq;

CREATE SEQUENCE public.response_graduates_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.revenue_sources_id_seq;

CREATE SEQUENCE public.revenue_sources_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.roles_id_seq;

CREATE SEQUENCE public.roles_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.satisfaction_options_id_seq;

CREATE SEQUENCE public.satisfaction_options_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.satisfaction_questions_id_seq;

CREATE SEQUENCE public.satisfaction_questions_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.satisfaction_responses_id_seq;

CREATE SEQUENCE public.satisfaction_responses_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.satisfaction_survey_categories_id_seq;

CREATE SEQUENCE public.satisfaction_survey_categories_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.satisfaction_surveys_id_seq;

CREATE SEQUENCE public.satisfaction_surveys_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.security_alerts_id_seq;

CREATE SEQUENCE public.security_alerts_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.security_configurations_id_seq;

CREATE SEQUENCE public.security_configurations_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.security_logs_id_seq;

CREATE SEQUENCE public.security_logs_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.service_configs_id_seq;

CREATE SEQUENCE public.service_configs_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.softwares_id_seq;

CREATE SEQUENCE public.softwares_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.strategic_objectives_id_seq;

CREATE SEQUENCE public.strategic_objectives_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.strategic_plans_id_seq;

CREATE SEQUENCE public.strategic_plans_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.student_courses_id_seq;

CREATE SEQUENCE public.student_courses_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.student_profiles_id_seq;

CREATE SEQUENCE public.student_profiles_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.students_id_seq;

CREATE SEQUENCE public.students_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.subjects_id_seq;

CREATE SEQUENCE public.subjects_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.survey_questions_id_seq;

CREATE SEQUENCE public.survey_questions_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.survey_reports_id_seq;

CREATE SEQUENCE public.survey_reports_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.survey_responses_id_seq;

CREATE SEQUENCE public.survey_responses_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.surveys_assigned_id_seq;

CREATE SEQUENCE public.surveys_assigned_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.surveys_id_seq;

CREATE SEQUENCE public.surveys_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.task_assignments_id_seq;

CREATE SEQUENCE public.task_assignments_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.tasks_id_seq;

CREATE SEQUENCE public.tasks_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.teacher_applications_id_seq;

CREATE SEQUENCE public.teacher_applications_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.teacher_evaluations_id_seq;

CREATE SEQUENCE public.teacher_evaluations_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.teacher_profiles_id_seq;

CREATE SEQUENCE public.teacher_profiles_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.teacher_recruitments_id_seq;

CREATE SEQUENCE public.teacher_recruitments_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.teams_id_seq;

CREATE SEQUENCE public.teams_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.ticket_trackings_id_seq;

CREATE SEQUENCE public.ticket_trackings_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.tickets_id_seq;

CREATE SEQUENCE public.tickets_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.trainings_id_seq;

CREATE SEQUENCE public.trainings_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.transactions_id_seq;

CREATE SEQUENCE public.transactions_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.tutoring_assistances_id_seq;

CREATE SEQUENCE public.tutoring_assistances_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.tutorings_id_seq;

CREATE SEQUENCE public.tutorings_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.type_documentary_processings_id_seq;

CREATE SEQUENCE public.type_documentary_processings_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.user_profiles_id_seq;

CREATE SEQUENCE public.user_profiles_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.users_id_seq;

CREATE SEQUENCE public.users_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.version_documents_id_seq;

CREATE SEQUENCE public.version_documents_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.vocational_questionnaires_id_seq;

CREATE SEQUENCE public.vocational_questionnaires_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.vocational_questions_id_seq;

CREATE SEQUENCE public.vocational_questions_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.vocational_responses_id_seq;

CREATE SEQUENCE public.vocational_responses_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.vocational_results_id_seq;

CREATE SEQUENCE public.vocational_results_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;-- public.academic_periods definition

-- Drop table

-- DROP TABLE public.academic_periods;

CREATE TABLE public.academic_periods (
	id bigserial NOT NULL,
	academic_period_id int8 NULL,
	"name" varchar(255) NOT NULL,
	start_date date NOT NULL,
	end_date date NOT NULL,
	status varchar(50) DEFAULT 'open'::character varying NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT academic_periods_pkey PRIMARY KEY (id)
);


-- public.accounts definition

-- Drop table

-- DROP TABLE public.accounts;

CREATE TABLE public.accounts (
	id bigserial NOT NULL,
	code varchar(20) NULL,
	description varchar(100) NULL,
	account_type varchar(20) NULL,
	current_balance numeric(15, 2) DEFAULT 0.00 NULL,
	CONSTRAINT accounts_account_type_check CHECK (((account_type)::text = ANY (ARRAY[('Asset'::character varying)::text, ('Liability'::character varying)::text, ('Income'::character varying)::text, ('Expense'::character varying)::text]))),
	CONSTRAINT accounts_code_key UNIQUE (code),
	CONSTRAINT accounts_pkey PRIMARY KEY (id)
);


-- public.blocked_ips definition

-- Drop table

-- DROP TABLE public.blocked_ips;

CREATE TABLE public.blocked_ips (
	id bigserial NOT NULL,
	id_blocked_ip int8 NULL,
	ip_address varchar(45) NOT NULL,
	reason varchar(255) NULL,
	block_date timestamptz DEFAULT now() NULL,
	active bool DEFAULT true NULL,
	CONSTRAINT blocked_ips_pkey PRIMARY KEY (id)
);


-- public.campaigns definition

-- Drop table

-- DROP TABLE public.campaigns;

CREATE TABLE public.campaigns (
	id bigserial NOT NULL,
	"name" varchar(200) NOT NULL,
	channel varchar(20) NOT NULL,
	target_audience varchar(100) NULL,
	status varchar(20) DEFAULT 'active'::character varying NULL,
	start_date timestamptz NULL,
	end_date timestamptz NULL,
	creation_date timestamptz DEFAULT now() NULL,
	CONSTRAINT campaigns_channel_check CHECK (((channel)::text = ANY (ARRAY[('whatsapp'::character varying)::text, ('facebook'::character varying)::text, ('instagram'::character varying)::text, ('webchat'::character varying)::text, ('email'::character varying)::text]))),
	CONSTRAINT campaigns_pkey PRIMARY KEY (id),
	CONSTRAINT campaigns_status_check CHECK (((status)::text = ANY (ARRAY[('active'::character varying)::text, ('paused'::character varying)::text, ('finished'::character varying)::text])))
);


-- public.candidates definition

-- Drop table

-- DROP TABLE public.candidates;

CREATE TABLE public.candidates (
	id bigserial NOT NULL,
	full_name varchar(100) NULL,
	email varchar(100) NULL,
	phone varchar(20) NULL,
	cv_path varchar(255) NULL,
	CONSTRAINT candidates_pkey PRIMARY KEY (id)
);


-- public.categories definition

-- Drop table

-- DROP TABLE public.categories;

CREATE TABLE public.categories (
	id bigserial NOT NULL,
	category_id int8 NULL,
	"name" varchar(100) NOT NULL,
	slug varchar(100) NULL,
	image varchar(255) NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT categories_pkey PRIMARY KEY (id),
	CONSTRAINT categories_slug_key UNIQUE (slug)
);


-- public.chatbot_conversations definition

-- Drop table

-- DROP TABLE public.chatbot_conversations;

CREATE TABLE public.chatbot_conversations (
	id bigserial NOT NULL,
	id_conversation int8 NULL,
	started_date timestamptz DEFAULT now() NULL,
	ended_date timestamptz NULL,
	satisfaction_rating int8 NULL,
	feedback text NULL,
	resolved bool DEFAULT false NULL,
	handed_to_human bool DEFAULT false NULL,
	CONSTRAINT chatbot_conversations_pkey PRIMARY KEY (id),
	CONSTRAINT chatbot_conversations_satisfaction_rating_check CHECK (((satisfaction_rating >= 1) AND (satisfaction_rating <= 5)))
);


-- public.chatbot_faqs definition

-- Drop table

-- DROP TABLE public.chatbot_faqs;

CREATE TABLE public.chatbot_faqs (
	id bigserial NOT NULL,
	id_faq int8 NULL,
	question text NOT NULL,
	answer text NOT NULL,
	category varchar(100) NULL,
	keywords jsonb NULL,
	active bool DEFAULT true NULL,
	usage_count int8 DEFAULT 0 NULL,
	created_date timestamptz DEFAULT now() NULL,
	updated_date timestamptz DEFAULT now() NULL,
	CONSTRAINT chatbot_faqs_pkey PRIMARY KEY (id)
);


-- public.companies definition

-- Drop table

-- DROP TABLE public.companies;

CREATE TABLE public.companies (
	id bigserial NOT NULL,
	"name" varchar(150) NOT NULL,
	industry varchar(100) NOT NULL,
	contact_name varchar(100) NOT NULL,
	contact_email varchar(150) NOT NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT companies_pkey PRIMARY KEY (id)
);


-- public.courses definition

-- Drop table

-- DROP TABLE public.courses;

CREATE TABLE public.courses (
	id bigserial NOT NULL,
	course_id int8 NULL,
	title varchar(255) NOT NULL,
	"name" varchar(200) NULL,
	description text NULL,
	"level" varchar(20) DEFAULT 'basic'::character varying NULL,
	course_image varchar(255) NULL,
	video_url varchar(255) NULL,
	duration numeric(8, 2) NULL,
	sessions int8 NULL,
	selling_price numeric(10, 2) NULL,
	discount_price numeric(10, 2) NULL,
	prerequisites text NULL,
	certificate_name bool DEFAULT false NULL,
	certificate_issuer varchar(255) NULL,
	bestseller bool DEFAULT false NULL,
	featured bool DEFAULT false NULL,
	highest_rated bool DEFAULT false NULL,
	status bool DEFAULT true NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT courses_level_check CHECK (((level)::text = ANY (ARRAY[('basic'::character varying)::text, ('intermediate'::character varying)::text, ('advanced'::character varying)::text]))),
	CONSTRAINT courses_pkey PRIMARY KEY (id)
);


-- public.departments definition

-- Drop table

-- DROP TABLE public.departments;

CREATE TABLE public.departments (
	id bigserial NOT NULL,
	department_name varchar(100) NOT NULL,
	description text NULL,
	CONSTRAINT departments_pkey PRIMARY KEY (id)
);


-- public.document_templates definition

-- Drop table

-- DROP TABLE public.document_templates;

CREATE TABLE public.document_templates (
	id bigserial NOT NULL,
	"name" varchar(150) NULL,
	category varchar(20) NULL,
	file_path varchar(255) NULL,
	is_active bool DEFAULT true NULL,
	CONSTRAINT document_templates_category_check CHECK (((category)::text = ANY (ARRAY[('academic'::character varying)::text, ('administrative'::character varying)::text, ('legal'::character varying)::text]))),
	CONSTRAINT document_templates_pkey PRIMARY KEY (id)
);


-- public.employability_questions definition

-- Drop table

-- DROP TABLE public.employability_questions;

CREATE TABLE public.employability_questions (
	id bigserial NOT NULL,
	id_question int8 NULL,
	question_text varchar(255) NULL,
	question_type varchar(13) NULL,
	CONSTRAINT employability_questions_pkey PRIMARY KEY (id),
	CONSTRAINT employability_questions_question_type_check CHECK (((question_type)::text = ANY (ARRAY[('text'::character varying)::text, ('number'::character varying)::text, ('option'::character varying)::text, ('date'::character varying)::text])))
);


-- public.evaluation_criteria definition

-- Drop table

-- DROP TABLE public.evaluation_criteria;

CREATE TABLE public.evaluation_criteria (
	id bigserial NOT NULL,
	id_evaluation_criteria int8 NULL,
	criterion_name varchar(255) NOT NULL,
	category timestamptz NULL,
	response_type varchar(13) NOT NULL,
	percentage_weight float8 NULL,
	state varchar(255) NULL,
	CONSTRAINT evaluation_criteria_pkey PRIMARY KEY (id),
	CONSTRAINT evaluation_criteria_response_type_check CHECK (((response_type)::text = ANY (ARRAY[('numeric'::character varying)::text, ('text'::character varying)::text, ('option'::character varying)::text])))
);


-- public.extracurricular_activities definition

-- Drop table

-- DROP TABLE public.extracurricular_activities;

CREATE TABLE public.extracurricular_activities (
	id bigserial NOT NULL,
	id_activity int8 NULL,
	activity_name varchar(100) NULL,
	activity_type varchar(16) NULL,
	description varchar(500) NULL,
	event_date timestamptz NULL,
	CONSTRAINT extracurricular_activities_activity_type_check CHECK (((activity_type)::text = ANY (ARRAY[('Deportiva'::character varying)::text, ('Cultural'::character varying)::text, ('Integración'::character varying)::text]))),
	CONSTRAINT extracurricular_activities_pkey PRIMARY KEY (id)
);


-- public.forums definition

-- Drop table

-- DROP TABLE public.forums;

CREATE TABLE public.forums (
	id bigserial NOT NULL,
	id_forum int8 NULL,
	title varchar(100) NULL,
	description varchar(250) NULL,
	associated_program varchar(250) NULL,
	state varchar(14) NULL,
	creation_date timestamptz NULL,
	CONSTRAINT forums_pkey PRIMARY KEY (id),
	CONSTRAINT forums_state_check CHECK (((state)::text = ANY (ARRAY[('Agendada'::character varying)::text, ('Realizada'::character varying)::text, ('Cancelada'::character varying)::text])))
);


-- public.leads definition

-- Drop table

-- DROP TABLE public.leads;

CREATE TABLE public.leads (
	id bigserial NOT NULL,
	"name" varchar(100) NOT NULL,
	email varchar(255) NOT NULL,
	phone varchar(20) NULL,
	origin varchar(50) NULL,
	main_interest varchar(100) NULL,
	status varchar(20) DEFAULT 'new'::character varying NULL,
	creation_date timestamptz DEFAULT now() NULL,
	last_contact_date timestamptz NULL,
	CONSTRAINT leads_pkey PRIMARY KEY (id),
	CONSTRAINT leads_status_check CHECK (((status)::text = ANY (ARRAY[('new'::character varying)::text, ('qualified'::character varying)::text, ('contacted'::character varying)::text, ('discarded'::character varying)::text])))
);


-- public.locations definition

-- Drop table

-- DROP TABLE public.locations;

CREATE TABLE public.locations (
	id bigserial NOT NULL,
	country varchar(100) NULL,
	region varchar(100) NULL,
	city varchar(100) NULL,
	CONSTRAINT locations_pkey PRIMARY KEY (id)
);


-- public.partners definition

-- Drop table

-- DROP TABLE public.partners;

CREATE TABLE public.partners (
	id bigserial NOT NULL,
	"name" varchar(255) NULL,
	"type" varchar(100) NULL,
	contact jsonb NULL,
	legal_representative varchar(255) NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT partners_pkey PRIMARY KEY (id)
);


-- public.payment_methods definition

-- Drop table

-- DROP TABLE public.payment_methods;

CREATE TABLE public.payment_methods (
	id bigserial NOT NULL,
	"name" varchar(50) NULL,
	description varchar(150) NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT payment_methods_pkey PRIMARY KEY (id)
);


-- public.programs definition

-- Drop table

-- DROP TABLE public.programs;

CREATE TABLE public.programs (
	id bigserial NOT NULL,
	"name" varchar(150) NOT NULL,
	description text NULL,
	duration_weeks int8 NULL,
	max_capacity int8 NULL,
	start_date date NULL,
	end_date date NULL,
	price numeric(10, 2) DEFAULT 0 NULL,
	currency varchar(3) DEFAULT 'PEN'::character varying NULL,
	image_url varchar(500) NULL,
	modality varchar(10) DEFAULT 'virtual'::character varying NULL,
	required_devices text NULL,
	status varchar(10) DEFAULT 'active'::character varying NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT programs_duration_weeks_check CHECK (((duration_weeks IS NULL) OR (duration_weeks > 0))),
	CONSTRAINT programs_max_capacity_check CHECK (((max_capacity IS NULL) OR (max_capacity > 0))),
	CONSTRAINT programs_modality_check CHECK (((modality)::text = ANY (ARRAY[('virtual'::character varying)::text, ('hybrid'::character varying)::text]))),
	CONSTRAINT programs_pkey PRIMARY KEY (id),
	CONSTRAINT programs_status_check CHECK (((status)::text = ANY (ARRAY[('active'::character varying)::text, ('inactive'::character varying)::text])))
);


-- public.revenue_sources definition

-- Drop table

-- DROP TABLE public.revenue_sources;

CREATE TABLE public.revenue_sources (
	id bigserial NOT NULL,
	"name" varchar(100) NULL,
	description varchar(255) NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT revenue_sources_pkey PRIMARY KEY (id)
);


-- public.roles definition

-- Drop table

-- DROP TABLE public.roles;

CREATE TABLE public.roles (
	id bigserial NOT NULL,
	"name" varchar(50) NOT NULL,
	description varchar(255) NULL,
	CONSTRAINT roles_pkey PRIMARY KEY (id)
);


-- public.satisfaction_survey_categories definition

-- Drop table

-- DROP TABLE public.satisfaction_survey_categories;

CREATE TABLE public.satisfaction_survey_categories (
	id bigserial NOT NULL,
	id_category int8 NULL,
	category_name varchar(255) NOT NULL,
	description varchar(255) NULL,
	CONSTRAINT satisfaction_survey_categories_pkey PRIMARY KEY (id)
);


-- public.service_configs definition

-- Drop table

-- DROP TABLE public.service_configs;

CREATE TABLE public.service_configs (
	id bigserial NOT NULL,
	service_type varchar(30) NOT NULL,
	provider varchar(50) NOT NULL,
	config_data jsonb NOT NULL,
	is_active bool DEFAULT true NULL,
	last_update timestamptz DEFAULT now() NULL,
	CONSTRAINT service_configs_pkey PRIMARY KEY (id),
	CONSTRAINT service_configs_service_type_check CHECK (((service_type)::text = ANY (ARRAY[('ai_content'::character varying)::text, ('messaging'::character varying)::text])))
);


-- public.subjects definition

-- Drop table

-- DROP TABLE public.subjects;

CREATE TABLE public.subjects (
	id bigserial NOT NULL,
	subject_code varchar(20) NULL,
	subject_name varchar(100) NULL,
	credits int8 NULL,
	status varchar(20) NULL,
	CONSTRAINT subjects_pkey PRIMARY KEY (id)
);


-- public.teacher_recruitments definition

-- Drop table

-- DROP TABLE public.teacher_recruitments;

CREATE TABLE public.teacher_recruitments (
	id bigserial NOT NULL,
	request_date date NOT NULL,
	title varchar(200) NOT NULL,
	description text NULL,
	required_profile text NULL,
	status varchar(12) DEFAULT 'open'::character varying NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT teacher_recruitments_pkey PRIMARY KEY (id),
	CONSTRAINT teacher_recruitments_status_check CHECK (((status)::text = ANY (ARRAY[('open'::character varying)::text, ('closed'::character varying)::text, ('suspended'::character varying)::text])))
);


-- public.teams definition

-- Drop table

-- DROP TABLE public.teams;

CREATE TABLE public.teams (
	id bigserial NOT NULL,
	"name" varchar(150) NOT NULL,
	description text NULL,
	members jsonb NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT teams_pkey PRIMARY KEY (id)
);


-- public.trainings definition

-- Drop table

-- DROP TABLE public.trainings;

CREATE TABLE public.trainings (
	id bigserial NOT NULL,
	"name" varchar(200) NOT NULL,
	description text NULL,
	institution varchar(200) NULL,
	provider varchar(100) NULL,
	duration_hours int8 NULL,
	start_date date NULL,
	end_date date NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT trainings_duration_hours_check CHECK (((duration_hours IS NULL) OR (duration_hours >= 0))),
	CONSTRAINT trainings_pkey PRIMARY KEY (id)
);


-- public.type_documentary_processings definition

-- Drop table

-- DROP TABLE public.type_documentary_processings;

CREATE TABLE public.type_documentary_processings (
	id bigserial NOT NULL,
	id_type int8 NULL,
	name_type varchar(80) NULL,
	description varchar(200) NULL,
	CONSTRAINT type_documentary_processings_pkey PRIMARY KEY (id)
);


-- public.users definition

-- Drop table

-- DROP TABLE public.users;

CREATE TABLE public.users (
	id bigserial NOT NULL,
	first_name varchar(100) NULL,
	last_name varchar(100) NULL,
	full_name varchar(100) NULL,
	dni varchar(20) NULL,
	"document" varchar(20) NULL,
	email varchar(255) NOT NULL,
	email_verified_at timestamptz NULL,
	phone_number varchar(20) NULL,
	address text NULL,
	birth_date date NULL,
	"role" jsonb DEFAULT '"student"'::jsonb NULL,
	"password" varchar(255) NOT NULL,
	gender varchar(10) NULL,
	country varchar(100) NULL,
	country_location varchar(100) NULL,
	timezone varchar(50) DEFAULT 'America/Lima'::character varying NULL,
	profile_photo varchar(500) NULL,
	status varchar(20) DEFAULT 'active'::character varying NULL,
	synchronized bool DEFAULT true NULL,
	last_access_ip varchar(45) NULL,
	last_access timestamptz NULL,
	last_connection timestamptz NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT users_dni_key UNIQUE (dni),
	CONSTRAINT users_document_key UNIQUE (document),
	CONSTRAINT users_email_key UNIQUE (email),
	CONSTRAINT users_gender_check CHECK (((gender)::text = ANY (ARRAY[('male'::character varying)::text, ('female'::character varying)::text, ('other'::character varying)::text]))),
	CONSTRAINT users_pkey PRIMARY KEY (id),
	CONSTRAINT users_status_check CHECK (((status)::text = ANY (ARRAY[('active'::character varying)::text, ('inactive'::character varying)::text, ('banned'::character varying)::text])))
);


-- public.vocational_questionnaires definition

-- Drop table

-- DROP TABLE public.vocational_questionnaires;

CREATE TABLE public.vocational_questionnaires (
	id bigserial NOT NULL,
	id_questionnaire int8 NULL,
	title varchar(80) NULL,
	description varchar(200) NULL,
	creation_date timestamptz NULL,
	activated bool NULL,
	CONSTRAINT vocational_questionnaires_pkey PRIMARY KEY (id)
);


-- public.active_sessions definition

-- Drop table

-- DROP TABLE public.active_sessions;

CREATE TABLE public.active_sessions (
	id bigserial NOT NULL,
	session_id int8 NULL,
	user_id int8 NOT NULL,
	ip_address varchar(45) NULL,
	device varchar(255) NULL,
	start_date timestamptz DEFAULT now() NULL,
	active bool DEFAULT true NULL,
	"blocked" bool DEFAULT false NULL,
	CONSTRAINT active_sessions_pkey PRIMARY KEY (id),
	CONSTRAINT active_sessions_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id)
);


-- public.activity_logs definition

-- Drop table

-- DROP TABLE public.activity_logs;

CREATE TABLE public.activity_logs (
	id bigserial NOT NULL,
	user_id int8 NULL,
	action_type varchar(100) NULL,
	target_type varchar(100) NULL,
	target_id int8 NULL,
	old_data jsonb NULL,
	new_data jsonb NULL,
	ip varchar(50) NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT activity_logs_pkey PRIMARY KEY (id),
	CONSTRAINT activity_logs_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id)
);


-- public.agreements definition

-- Drop table

-- DROP TABLE public.agreements;

CREATE TABLE public.agreements (
	id bigserial NOT NULL,
	partner_id int8 NOT NULL,
	title varchar(255) NULL,
	start_date date NULL,
	end_date date NULL,
	status varchar(50) NULL,
	renewal_date date NULL,
	electronic_signature bool DEFAULT false NULL,
	created_by_user_id int8 NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	deleted_at timestamptz NULL,
	CONSTRAINT agreements_pkey PRIMARY KEY (id),
	CONSTRAINT agreements_created_by_user_id_fkey FOREIGN KEY (created_by_user_id) REFERENCES public.users(id),
	CONSTRAINT agreements_partner_id_fkey FOREIGN KEY (partner_id) REFERENCES public.partners(id)
);


-- public.alerts definition

-- Drop table

-- DROP TABLE public.alerts;

CREATE TABLE public.alerts (
	id bigserial NOT NULL,
	id_alert int8 NULL,
	message text NOT NULL,
	"type" varchar(50) NULL,
	status varchar(50) DEFAULT 'active'::character varying NULL,
	link_url varchar(500) NULL,
	link_text varchar(100) NULL,
	start_date timestamptz NULL,
	end_date timestamptz NULL,
	priority int8 DEFAULT 1 NULL,
	created_by int8 NULL,
	created_date timestamptz DEFAULT now() NULL,
	CONSTRAINT alerts_pkey PRIMARY KEY (id),
	CONSTRAINT alerts_created_by_fkey FOREIGN KEY (created_by) REFERENCES public.users(id)
);


-- public.announcements definition

-- Drop table

-- DROP TABLE public.announcements;

CREATE TABLE public.announcements (
	id bigserial NOT NULL,
	id_announcement int8 NULL,
	title varchar(255) NOT NULL,
	"content" text NOT NULL,
	image_url varchar(500) NULL,
	display_type varchar(50) NULL,
	target_page varchar(100) NULL,
	link_url varchar(500) NULL,
	button_text varchar(100) NULL,
	status varchar(50) DEFAULT 'draft'::character varying NULL,
	start_date timestamptz NULL,
	end_date timestamptz NULL,
	"views" int8 DEFAULT 0 NULL,
	created_by int8 NULL,
	created_date timestamptz DEFAULT now() NULL,
	CONSTRAINT announcements_pkey PRIMARY KEY (id),
	CONSTRAINT announcements_created_by_fkey FOREIGN KEY (created_by) REFERENCES public.users(id)
);


-- public.audit_logs definition

-- Drop table

-- DROP TABLE public.audit_logs;

CREATE TABLE public.audit_logs (
	id bigserial NOT NULL,
	entity varchar(50) NULL,
	entity_id int8 NULL,
	"action" varchar(20) NULL,
	user_id int8 NULL,
	"timestamp" timestamptz DEFAULT now() NULL,
	changes jsonb NULL,
	CONSTRAINT audit_logs_action_check CHECK (((action)::text = ANY (ARRAY[('INSERT'::character varying)::text, ('UPDATE'::character varying)::text, ('DELETE'::character varying)::text]))),
	CONSTRAINT audit_logs_pkey PRIMARY KEY (id),
	CONSTRAINT audit_logs_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id)
);


-- public.bot_flows definition

-- Drop table

-- DROP TABLE public.bot_flows;

CREATE TABLE public.bot_flows (
	id bigserial NOT NULL,
	campaign_id int8 NULL,
	flow_name varchar(100) NOT NULL,
	trigger_keyword varchar(50) NULL,
	flow_config jsonb NOT NULL,
	priority int8 DEFAULT 1 NULL,
	CONSTRAINT bot_flows_pkey PRIMARY KEY (id),
	CONSTRAINT bot_flows_campaign_id_fkey FOREIGN KEY (campaign_id) REFERENCES public.campaigns(id) ON DELETE CASCADE
);


-- public.budgets definition

-- Drop table

-- DROP TABLE public.budgets;

CREATE TABLE public.budgets (
	id_budget bigserial NOT NULL,
	category varchar(50) NULL,
	academic_period_id int8 NULL,
	assigned_amount numeric(15, 2) NULL,
	executed_amount numeric(15, 2) DEFAULT 0.00 NULL,
	creation_date timestamptz DEFAULT CURRENT_TIMESTAMP NULL,
	modification_date timestamptz DEFAULT CURRENT_TIMESTAMP NULL,
	approver_user_id int8 NULL,
	CONSTRAINT budgets_pkey PRIMARY KEY (id_budget),
	CONSTRAINT budgets_approver_user_id_fkey FOREIGN KEY (approver_user_id) REFERENCES public.users(id)
);


-- public.campaign_metrics definition

-- Drop table

-- DROP TABLE public.campaign_metrics;

CREATE TABLE public.campaign_metrics (
	id bigserial NOT NULL,
	campaign_id int8 NULL,
	"date" date DEFAULT CURRENT_DATE NULL,
	impressions int8 DEFAULT 0 NULL,
	clicks int8 DEFAULT 0 NULL,
	conversions int8 DEFAULT 0 NULL,
	engagement_rate numeric(5, 4) NULL,
	CONSTRAINT campaign_metrics_pkey PRIMARY KEY (id),
	CONSTRAINT campaign_metrics_campaign_id_fkey FOREIGN KEY (campaign_id) REFERENCES public.campaigns(id)
);


-- public.certificates definition

-- Drop table

-- DROP TABLE public.certificates;

CREATE TABLE public.certificates (
	id bigserial NOT NULL,
	user_id int8 NOT NULL,
	program_id int8 NOT NULL,
	issue_date date NOT NULL,
	status varchar(20) NULL,
	verification_code varchar(255) NULL,
	CONSTRAINT certificates_pkey PRIMARY KEY (id),
	CONSTRAINT certificates_verification_code_key UNIQUE (verification_code),
	CONSTRAINT certificates_program_id_fkey FOREIGN KEY (program_id) REFERENCES public.programs(id) ON DELETE CASCADE,
	CONSTRAINT certificates_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE
);


-- public.chatbot_messages definition

-- Drop table

-- DROP TABLE public.chatbot_messages;

CREATE TABLE public.chatbot_messages (
	id bigserial NOT NULL,
	id_message int8 NULL,
	conversation_id int8 NOT NULL,
	sender varchar(50) NOT NULL,
	message text NOT NULL,
	"timestamp" timestamptz DEFAULT now() NULL,
	faq_matched int8 NULL,
	CONSTRAINT chatbot_messages_pkey PRIMARY KEY (id),
	CONSTRAINT chatbot_messages_conversation_id_fkey FOREIGN KEY (conversation_id) REFERENCES public.chatbot_conversations(id),
	CONSTRAINT chatbot_messages_faq_matched_fkey FOREIGN KEY (faq_matched) REFERENCES public.chatbot_faqs(id)
);


-- public.contents definition

-- Drop table

-- DROP TABLE public.contents;

CREATE TABLE public.contents (
	id bigserial NOT NULL,
	user_id int8 NOT NULL,
	content_type varchar(20) NULL,
	platform varchar(20) NULL,
	prompt text NOT NULL,
	generated_content text NOT NULL,
	metadata jsonb NULL,
	status varchar(20) DEFAULT 'draft'::character varying NULL,
	scheduled_date timestamptz NULL,
	creation_date timestamptz DEFAULT now() NULL,
	CONSTRAINT contents_content_type_check CHECK (((content_type)::text = ANY (ARRAY[('social_post'::character varying)::text, ('blog'::character varying)::text, ('email'::character varying)::text, ('video_script'::character varying)::text, ('podcast'::character varying)::text]))),
	CONSTRAINT contents_pkey PRIMARY KEY (id),
	CONSTRAINT contents_platform_check CHECK (((platform)::text = ANY (ARRAY[('facebook'::character varying)::text, ('instagram'::character varying)::text, ('twitter'::character varying)::text, ('web'::character varying)::text, ('newsletter'::character varying)::text, ('youtube'::character varying)::text]))),
	CONSTRAINT contents_status_check CHECK (((status)::text = ANY (ARRAY[('draft'::character varying)::text, ('published'::character varying)::text, ('scheduled'::character varying)::text]))),
	CONSTRAINT contents_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE
);


-- public.conversations definition

-- Drop table

-- DROP TABLE public.conversations;

CREATE TABLE public.conversations (
	id bigserial NOT NULL,
	lead_id int8 NOT NULL,
	campaign_id int8 NULL,
	channel varchar(20) NOT NULL,
	message_type varchar(10) NOT NULL,
	message_content text NOT NULL,
	bot_flow_id int8 NULL,
	agent_id int8 NULL,
	"timestamp" timestamptz DEFAULT now() NULL,
	status varchar(20) DEFAULT 'pending'::character varying NULL,
	CONSTRAINT conversations_message_type_check CHECK (((message_type)::text = ANY (ARRAY[('in'::character varying)::text, ('out'::character varying)::text]))),
	CONSTRAINT conversations_pkey PRIMARY KEY (id),
	CONSTRAINT conversations_status_check CHECK (((status)::text = ANY (ARRAY[('pending'::character varying)::text, ('responded'::character varying)::text, ('closed'::character varying)::text]))),
	CONSTRAINT conversations_agent_id_fkey FOREIGN KEY (agent_id) REFERENCES public.users(id),
	CONSTRAINT conversations_bot_flow_id_fkey FOREIGN KEY (bot_flow_id) REFERENCES public.bot_flows(id),
	CONSTRAINT conversations_campaign_id_fkey FOREIGN KEY (campaign_id) REFERENCES public.campaigns(id),
	CONSTRAINT conversations_lead_id_fkey FOREIGN KEY (lead_id) REFERENCES public.leads(id) ON DELETE CASCADE
);


-- public.course_categories definition

-- Drop table

-- DROP TABLE public.course_categories;

CREATE TABLE public.course_categories (
	id bigserial NOT NULL,
	id_course_catg int8 NULL,
	course_id int8 NOT NULL,
	category_id int8 NOT NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT course_categories_pkey PRIMARY KEY (id),
	CONSTRAINT course_categories_category_id_fkey FOREIGN KEY (category_id) REFERENCES public.categories(id),
	CONSTRAINT course_categories_course_id_fkey FOREIGN KEY (course_id) REFERENCES public.courses(id)
);


-- public.course_contents definition

-- Drop table

-- DROP TABLE public.course_contents;

CREATE TABLE public.course_contents (
	id bigserial NOT NULL,
	course_id int8 NOT NULL,
	"session" int8 NULL,
	"type" varchar(50) NULL,
	title varchar(255) NULL,
	"content" text NULL,
	order_number int8 NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT course_contents_pkey PRIMARY KEY (id),
	CONSTRAINT course_contents_course_id_fkey FOREIGN KEY (course_id) REFERENCES public.courses(id)
);


-- public.course_previous_requirements definition

-- Drop table

-- DROP TABLE public.course_previous_requirements;

CREATE TABLE public.course_previous_requirements (
	id bigserial NOT NULL,
	course_id int8 NOT NULL,
	previous_course_id int8 NOT NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT ck_course_previous_no_self CHECK ((course_id <> previous_course_id)),
	CONSTRAINT course_previous_requirements_pkey PRIMARY KEY (id),
	CONSTRAINT uq_course_previous UNIQUE (course_id, previous_course_id),
	CONSTRAINT course_previous_requirements_course_id_fkey FOREIGN KEY (course_id) REFERENCES public.courses(id) ON DELETE CASCADE,
	CONSTRAINT course_previous_requirements_previous_course_id_fkey FOREIGN KEY (previous_course_id) REFERENCES public.courses(id) ON DELETE CASCADE
);


-- public.diplomas definition

-- Drop table

-- DROP TABLE public.diplomas;

CREATE TABLE public.diplomas (
	id bigserial NOT NULL,
	user_id int8 NOT NULL,
	program_id int8 NOT NULL,
	issue_date date NOT NULL,
	status varchar(20) NULL,
	CONSTRAINT diplomas_pkey PRIMARY KEY (id),
	CONSTRAINT diplomas_program_id_fkey FOREIGN KEY (program_id) REFERENCES public.programs(id) ON DELETE CASCADE,
	CONSTRAINT diplomas_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE
);


-- public.documents definition

-- Drop table

-- DROP TABLE public.documents;

CREATE TABLE public.documents (
	id bigserial NOT NULL,
	title varchar(200) NULL,
	category varchar(20) NULL,
	entity_type varchar(100) NULL,
	entity_id int8 NULL,
	"version" int8 NULL,
	status varchar(20) NULL,
	file_path varchar(255) NULL,
	created_by int8 NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT documents_category_check CHECK (((category)::text = ANY (ARRAY[('academic'::character varying)::text, ('administrative'::character varying)::text, ('legal'::character varying)::text]))),
	CONSTRAINT documents_pkey PRIMARY KEY (id),
	CONSTRAINT documents_status_check CHECK (((status)::text = ANY (ARRAY[('draft'::character varying)::text, ('active'::character varying)::text, ('archived'::character varying)::text]))),
	CONSTRAINT documents_created_by_fkey FOREIGN KEY (created_by) REFERENCES public.users(id)
);


-- public.generation_logs definition

-- Drop table

-- DROP TABLE public.generation_logs;

CREATE TABLE public.generation_logs (
	id bigserial NOT NULL,
	content_id int8 NULL,
	status varchar(20) NULL,
	error_message text NULL,
	"timestamp" timestamptz DEFAULT now() NULL,
	CONSTRAINT generation_logs_pkey PRIMARY KEY (id),
	CONSTRAINT generation_logs_status_check CHECK (((status)::text = ANY (ARRAY[('successful'::character varying)::text, ('failed'::character varying)::text]))),
	CONSTRAINT generation_logs_content_id_fkey FOREIGN KEY (content_id) REFERENCES public.contents(id) ON DELETE CASCADE
);


-- public.graduates definition

-- Drop table

-- DROP TABLE public.graduates;

CREATE TABLE public.graduates (
	id bigserial NOT NULL,
	user_id int8 NOT NULL,
	program_id int8 NOT NULL,
	graduation_date date NOT NULL,
	final_note float8 NULL,
	state varchar(14) NULL,
	employability varchar(255) NULL,
	feedback text NULL,
	CONSTRAINT graduates_pkey PRIMARY KEY (id),
	CONSTRAINT graduates_state_check CHECK (((state)::text = ANY (ARRAY[('graduated'::character varying)::text, ('pending'::character varying)::text, ('withdrawn'::character varying)::text]))),
	CONSTRAINT uq_graduate UNIQUE (user_id, program_id),
	CONSTRAINT graduates_program_id_fkey FOREIGN KEY (program_id) REFERENCES public.programs(id) ON DELETE CASCADE,
	CONSTRAINT graduates_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE
);


-- public."groups" definition

-- Drop table

-- DROP TABLE public."groups";

CREATE TABLE public."groups" (
	id bigserial NOT NULL,
	course_id int8 NOT NULL,
	code varchar(50) NOT NULL,
	"name" varchar(200) NOT NULL,
	start_date date NOT NULL,
	end_date date NOT NULL,
	minimum_enrolled int8 DEFAULT 1 NULL,
	status varchar(20) DEFAULT 'draft'::character varying NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT groups_code_key UNIQUE (code),
	CONSTRAINT groups_minimum_enrolled_check CHECK ((minimum_enrolled >= 1)),
	CONSTRAINT groups_pkey PRIMARY KEY (id),
	CONSTRAINT groups_status_check CHECK (((status)::text = ANY (ARRAY[('draft'::character varying)::text, ('approved'::character varying)::text, ('open'::character varying)::text, ('in_progress'::character varying)::text, ('completed'::character varying)::text, ('cancelled'::character varying)::text, ('suspended'::character varying)::text]))),
	CONSTRAINT groups_course_id_fkey FOREIGN KEY (course_id) REFERENCES public.courses(id) ON DELETE CASCADE
);


-- public.indicators definition

-- Drop table

-- DROP TABLE public.indicators;

CREATE TABLE public.indicators (
	id bigserial NOT NULL,
	"name" varchar(150) NULL,
	description text NULL,
	category varchar(50) NULL,
	formula varchar(255) NULL,
	target_value numeric(6, 2) NULL,
	unit varchar(20) NULL,
	responsible_user_id int8 NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT indicators_category_check CHECK (((category)::text = ANY (ARRAY[('academic'::character varying)::text, ('administrative'::character varying)::text, ('financial'::character varying)::text, ('satisfaction'::character varying)::text]))),
	CONSTRAINT indicators_pkey PRIMARY KEY (id),
	CONSTRAINT indicators_responsible_user_id_fkey FOREIGN KEY (responsible_user_id) REFERENCES public.users(id)
);


-- public.instructor_applications definition

-- Drop table

-- DROP TABLE public.instructor_applications;

CREATE TABLE public.instructor_applications (
	id bigserial NOT NULL,
	user_id int8 NOT NULL,
	bio text NULL,
	expertise_area varchar(150) NULL,
	status varchar(10) DEFAULT 'pending'::character varying NULL,
	reviewed_at timestamptz NULL,
	reviewed_by int8 NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT instructor_applications_pkey PRIMARY KEY (id),
	CONSTRAINT instructor_applications_status_check CHECK (((status)::text = ANY (ARRAY[('pending'::character varying)::text, ('approved'::character varying)::text, ('rejected'::character varying)::text]))),
	CONSTRAINT instructor_applications_reviewed_by_fkey FOREIGN KEY (reviewed_by) REFERENCES public.users(id) ON DELETE SET NULL,
	CONSTRAINT instructor_applications_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE
);


-- public.instructors definition

-- Drop table

-- DROP TABLE public.instructors;

CREATE TABLE public.instructors (
	id bigserial NOT NULL,
	instructor_id int8 NULL,
	user_id int8 NOT NULL,
	bio text NULL,
	expertise_area varchar(255) NULL,
	status varchar(50) DEFAULT 'active'::character varying NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT instructors_pkey PRIMARY KEY (id),
	CONSTRAINT instructors_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id)
);


-- public.lead_course_interests definition

-- Drop table

-- DROP TABLE public.lead_course_interests;

CREATE TABLE public.lead_course_interests (
	lead_id int8 NOT NULL,
	course_id int8 NOT NULL,
	interest_date timestamptz DEFAULT now() NULL,
	CONSTRAINT lead_course_interests_pkey PRIMARY KEY (lead_id, course_id),
	CONSTRAINT lead_course_interests_course_id_fkey FOREIGN KEY (course_id) REFERENCES public.courses(id) ON DELETE CASCADE,
	CONSTRAINT lead_course_interests_lead_id_fkey FOREIGN KEY (lead_id) REFERENCES public.leads(id) ON DELETE CASCADE
);


-- public.news definition

-- Drop table

-- DROP TABLE public.news;

CREATE TABLE public.news (
	id bigserial NOT NULL,
	id_news int8 NULL,
	title varchar(255) NOT NULL,
	slug varchar(255) NULL,
	summary text NULL,
	"content" text NULL,
	featured_image varchar(500) NULL,
	author_id int8 NULL,
	category varchar(100) NULL,
	tags jsonb NULL,
	status varchar(50) DEFAULT 'draft'::character varying NULL,
	"views" int8 DEFAULT 0 NULL,
	published_date timestamptz NULL,
	created_date timestamptz DEFAULT now() NULL,
	updated_date timestamptz DEFAULT now() NULL,
	seo_title varchar(255) NULL,
	seo_description text NULL,
	CONSTRAINT news_pkey PRIMARY KEY (id),
	CONSTRAINT news_slug_key UNIQUE (slug),
	CONSTRAINT news_author_id_fkey FOREIGN KEY (author_id) REFERENCES public.users(id)
);


-- public.notifications definition

-- Drop table

-- DROP TABLE public.notifications;

CREATE TABLE public.notifications (
	id bigserial NOT NULL,
	user_id int8 NOT NULL,
	title varchar(255) NULL,
	message text NULL,
	read_at timestamptz NULL,
	related_type varchar(100) NULL,
	related_id int8 NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT notifications_pkey PRIMARY KEY (id),
	CONSTRAINT notifications_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id)
);


-- public.option_criteria definition

-- Drop table

-- DROP TABLE public.option_criteria;

CREATE TABLE public.option_criteria (
	id bigserial NOT NULL,
	id_option_criteria int8 NULL,
	id_evaluation_criteria int8 NOT NULL,
	option_text varchar(255) NULL,
	CONSTRAINT option_criteria_pkey PRIMARY KEY (id),
	CONSTRAINT option_criteria_id_evaluation_criteria_fkey FOREIGN KEY (id_evaluation_criteria) REFERENCES public.evaluation_criteria(id)
);


-- public.option_job_questions definition

-- Drop table

-- DROP TABLE public.option_job_questions;

CREATE TABLE public.option_job_questions (
	id bigserial NOT NULL,
	id_option int8 NULL,
	id_question int8 NULL,
	option_text varchar(50) NULL,
	CONSTRAINT option_job_questions_pkey PRIMARY KEY (id),
	CONSTRAINT option_job_questions_id_question_fkey FOREIGN KEY (id_question) REFERENCES public.employability_questions(id)
);


-- public.positions definition

-- Drop table

-- DROP TABLE public.positions;

CREATE TABLE public.positions (
	id bigserial NOT NULL,
	position_name varchar(100) NOT NULL,
	department_id int8 NOT NULL,
	CONSTRAINT positions_pkey PRIMARY KEY (id),
	CONSTRAINT positions_department_id_fkey FOREIGN KEY (department_id) REFERENCES public.departments(id)
);


-- public.professional_social_impacts definition

-- Drop table

-- DROP TABLE public.professional_social_impacts;

CREATE TABLE public.professional_social_impacts (
	id bigserial NOT NULL,
	id_impact int8 NULL,
	id_graduates int8 NULL,
	description varchar(255) NULL,
	registration_date timestamptz DEFAULT now() NULL,
	CONSTRAINT professional_social_impacts_pkey PRIMARY KEY (id),
	CONSTRAINT professional_social_impacts_id_graduates_fkey FOREIGN KEY (id_graduates) REFERENCES public.graduates(id)
);


-- public.program_courses definition

-- Drop table

-- DROP TABLE public.program_courses;

CREATE TABLE public.program_courses (
	id bigserial NOT NULL,
	program_id int8 NOT NULL,
	course_id int8 NOT NULL,
	mandatory bool DEFAULT true NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT program_courses_pkey PRIMARY KEY (id),
	CONSTRAINT uq_program_course UNIQUE (program_id, course_id),
	CONSTRAINT program_courses_course_id_fkey FOREIGN KEY (course_id) REFERENCES public.courses(id) ON DELETE CASCADE,
	CONSTRAINT program_courses_program_id_fkey FOREIGN KEY (program_id) REFERENCES public.programs(id) ON DELETE CASCADE
);


-- public.satisfaction_surveys definition

-- Drop table

-- DROP TABLE public.satisfaction_surveys;

CREATE TABLE public.satisfaction_surveys (
	id bigserial NOT NULL,
	id_satisfaction_survey int8 NULL,
	id_category int8 NOT NULL,
	qualification varchar(255) NULL,
	description varchar(255) NULL,
	state varchar(255) NULL,
	creation_date timestamptz NULL,
	CONSTRAINT satisfaction_surveys_pkey PRIMARY KEY (id),
	CONSTRAINT satisfaction_surveys_id_category_fkey FOREIGN KEY (id_category) REFERENCES public.satisfaction_survey_categories(id)
);


-- public.security_alerts definition

-- Drop table

-- DROP TABLE public.security_alerts;

CREATE TABLE public.security_alerts (
	id bigserial NOT NULL,
	id_security_alert int8 NULL,
	threat_type varchar(100) NOT NULL,
	severity varchar(50) DEFAULT 'medium'::character varying NULL,
	status varchar(50) DEFAULT 'new'::character varying NULL,
	blocked_ip_id int8 NULL,
	detection_date timestamptz DEFAULT now() NULL,
	CONSTRAINT security_alerts_pkey PRIMARY KEY (id),
	CONSTRAINT security_alerts_blocked_ip_id_fkey FOREIGN KEY (blocked_ip_id) REFERENCES public.blocked_ips(id)
);


-- public.security_configurations definition

-- Drop table

-- DROP TABLE public.security_configurations;

CREATE TABLE public.security_configurations (
	id bigserial NOT NULL,
	id_security_configuration int8 NULL,
	user_id int8 NULL,
	modulo varchar(100) NULL,
	"parameter" varchar(100) NOT NULL,
	value text NULL,
	active bool DEFAULT true NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT security_configurations_pkey PRIMARY KEY (id),
	CONSTRAINT security_configurations_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id)
);


-- public.security_logs definition

-- Drop table

-- DROP TABLE public.security_logs;

CREATE TABLE public.security_logs (
	id bigserial NOT NULL,
	id_security_log int8 NULL,
	user_id int8 NULL,
	event_type varchar(100) NOT NULL,
	description text NULL,
	source_ip varchar(45) NULL,
	event_date timestamptz DEFAULT now() NULL,
	CONSTRAINT security_logs_pkey PRIMARY KEY (id),
	CONSTRAINT security_logs_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id)
);


-- public.strategic_plans definition

-- Drop table

-- DROP TABLE public.strategic_plans;

CREATE TABLE public.strategic_plans (
	id bigserial NOT NULL,
	title varchar(255) NOT NULL,
	description text NULL,
	start_date date NULL,
	end_date date NULL,
	status varchar(50) DEFAULT 'draft'::character varying NULL,
	created_by_user_id int8 NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	deleted_at timestamptz NULL,
	CONSTRAINT strategic_plans_pkey PRIMARY KEY (id),
	CONSTRAINT strategic_plans_created_by_user_id_fkey FOREIGN KEY (created_by_user_id) REFERENCES public.users(id)
);


-- public.student_profiles definition

-- Drop table

-- DROP TABLE public.student_profiles;

CREATE TABLE public.student_profiles (
	id bigserial NOT NULL,
	user_id int8 NOT NULL,
	career_interest varchar(100) NULL,
	work_situation varchar(20) NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT student_profiles_pkey PRIMARY KEY (id),
	CONSTRAINT student_profiles_user_id_key UNIQUE (user_id),
	CONSTRAINT student_profiles_work_situation_check CHECK (((work_situation)::text = ANY (ARRAY[('employed'::character varying)::text, ('unemployed'::character varying)::text, ('student'::character varying)::text, ('other'::character varying)::text]))),
	CONSTRAINT student_profiles_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE
);


-- public.students definition

-- Drop table

-- DROP TABLE public.students;

CREATE TABLE public.students (
	id bigserial NOT NULL,
	student_id int8 NULL,
	user_id int8 NULL,
	company_id int8 NULL,
	document_number varchar(20) NULL,
	first_name varchar(100) NULL,
	last_name varchar(100) NULL,
	email varchar(100) NULL,
	phone varchar(20) NULL,
	status varchar(20) DEFAULT 'active'::character varying NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT students_pkey PRIMARY KEY (id),
	CONSTRAINT students_company_id_fkey FOREIGN KEY (company_id) REFERENCES public.companies(id) ON DELETE SET NULL,
	CONSTRAINT students_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id)
);


-- public.survey_reports definition

-- Drop table

-- DROP TABLE public.survey_reports;

CREATE TABLE public.survey_reports (
	id bigserial NOT NULL,
	id_report int8 NULL,
	id_survey int8 NOT NULL,
	report_type varchar(255) NULL,
	file_path varchar(255) NULL,
	creation_date timestamptz NULL,
	CONSTRAINT survey_reports_pkey PRIMARY KEY (id),
	CONSTRAINT survey_reports_id_survey_fkey FOREIGN KEY (id_survey) REFERENCES public.satisfaction_surveys(id)
);


-- public.surveys definition

-- Drop table

-- DROP TABLE public.surveys;

CREATE TABLE public.surveys (
	id bigserial NOT NULL,
	title varchar(255) NULL,
	target_type varchar(100) NULL,
	created_by_user_id int8 NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT surveys_pkey PRIMARY KEY (id),
	CONSTRAINT surveys_created_by_user_id_fkey FOREIGN KEY (created_by_user_id) REFERENCES public.users(id)
);


-- public.surveys_assigned definition

-- Drop table

-- DROP TABLE public.surveys_assigned;

CREATE TABLE public.surveys_assigned (
	id bigserial NOT NULL,
	id_survey_assigned int8 NULL,
	id_survey int8 NOT NULL,
	id_student int8 NOT NULL,
	state varchar(255) NULL,
	creation_date timestamptz NULL,
	CONSTRAINT surveys_assigned_pkey PRIMARY KEY (id),
	CONSTRAINT surveys_assigned_id_student_fkey FOREIGN KEY (id_student) REFERENCES public.students(id),
	CONSTRAINT surveys_assigned_id_survey_fkey FOREIGN KEY (id_survey) REFERENCES public.satisfaction_surveys(id)
);


-- public.teacher_applications definition

-- Drop table

-- DROP TABLE public.teacher_applications;

CREATE TABLE public.teacher_applications (
	id bigserial NOT NULL,
	recruitment_id int8 NOT NULL,
	user_id int8 NOT NULL,
	cv varchar(255) NOT NULL,
	status varchar(15) DEFAULT 'received'::character varying NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT teacher_applications_pkey PRIMARY KEY (id),
	CONSTRAINT teacher_applications_status_check CHECK (((status)::text = ANY (ARRAY[('received'::character varying)::text, ('under_review'::character varying)::text, ('interview'::character varying)::text, ('selected'::character varying)::text, ('rejected'::character varying)::text]))),
	CONSTRAINT uq_application UNIQUE (recruitment_id, user_id),
	CONSTRAINT teacher_applications_recruitment_id_fkey FOREIGN KEY (recruitment_id) REFERENCES public.teacher_recruitments(id) ON DELETE CASCADE,
	CONSTRAINT teacher_applications_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE
);


-- public.teacher_evaluations definition

-- Drop table

-- DROP TABLE public.teacher_evaluations;

CREATE TABLE public.teacher_evaluations (
	id bigserial NOT NULL,
	evaluator_id int8 NOT NULL,
	group_id int8 NOT NULL,
	teacher_id int8 NOT NULL,
	answers jsonb NOT NULL,
	score numeric(5, 2) NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT teacher_evaluations_pkey PRIMARY KEY (id),
	CONSTRAINT teacher_evaluations_evaluator_id_fkey FOREIGN KEY (evaluator_id) REFERENCES public.users(id) ON DELETE CASCADE,
	CONSTRAINT teacher_evaluations_group_id_fkey FOREIGN KEY (group_id) REFERENCES public."groups"(id) ON DELETE CASCADE,
	CONSTRAINT teacher_evaluations_teacher_id_fkey FOREIGN KEY (teacher_id) REFERENCES public.users(id) ON DELETE CASCADE
);


-- public.teacher_profiles definition

-- Drop table

-- DROP TABLE public.teacher_profiles;

CREATE TABLE public.teacher_profiles (
	id bigserial NOT NULL,
	user_id int8 NOT NULL,
	professional_title varchar(200) NOT NULL,
	specialty varchar(100) NOT NULL,
	experience_years int8 DEFAULT 0 NULL,
	biography text NULL,
	linkedin_link varchar(255) NULL,
	cover_photo varchar(255) NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT teacher_profiles_experience_years_check CHECK ((experience_years >= 0)),
	CONSTRAINT teacher_profiles_pkey PRIMARY KEY (id),
	CONSTRAINT teacher_profiles_user_id_key UNIQUE (user_id),
	CONSTRAINT teacher_profiles_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE
);


-- public.transactions definition

-- Drop table

-- DROP TABLE public.transactions;

CREATE TABLE public.transactions (
	id bigserial NOT NULL,
	transaction_type varchar(20) NULL,
	amount numeric(15, 2) NULL,
	transaction_date timestamptz DEFAULT now() NULL,
	description text NULL,
	category varchar(100) NULL,
	account_id int8 NULL,
	budget_id int8 NULL,
	registered_by int8 NULL,
	attachment varchar(255) NULL,
	CONSTRAINT transactions_pkey PRIMARY KEY (id),
	CONSTRAINT transactions_transaction_type_check CHECK (((transaction_type)::text = ANY (ARRAY[('Income'::character varying)::text, ('Expense'::character varying)::text]))),
	CONSTRAINT transactions_account_id_fkey FOREIGN KEY (account_id) REFERENCES public.accounts(id),
	CONSTRAINT transactions_budget_id_fkey FOREIGN KEY (budget_id) REFERENCES public.budgets(id_budget),
	CONSTRAINT transactions_registered_by_fkey FOREIGN KEY (registered_by) REFERENCES public.users(id)
);


-- public.tutorings definition

-- Drop table

-- DROP TABLE public.tutorings;

CREATE TABLE public.tutorings (
	id bigserial NOT NULL,
	id_tutorial int8 NULL,
	estudent_id int8 NULL,
	instructor_id int8 NULL,
	scheduled_date timestamptz NULL,
	type_tutorial varchar(16) NULL,
	state varchar(14) NULL,
	CONSTRAINT tutorings_pkey PRIMARY KEY (id),
	CONSTRAINT tutorings_state_check CHECK (((state)::text = ANY (ARRAY[('Agendada'::character varying)::text, ('Realizada'::character varying)::text, ('Cancelada'::character varying)::text]))),
	CONSTRAINT tutorings_type_tutorial_check CHECK (((type_tutorial)::text = ANY (ARRAY[('Académica'::character varying)::text, ('Psicológica'::character varying)::text]))),
	CONSTRAINT tutorings_estudent_id_fkey FOREIGN KEY (estudent_id) REFERENCES public.students(id),
	CONSTRAINT tutorings_instructor_id_fkey FOREIGN KEY (instructor_id) REFERENCES public.instructors(id)
);


-- public.user_profiles definition

-- Drop table

-- DROP TABLE public.user_profiles;

CREATE TABLE public.user_profiles (
	id bigserial NOT NULL,
	user_id int8 NOT NULL,
	first_name varchar(100) NOT NULL,
	last_name varchar(100) NOT NULL,
	phone varchar(50) NULL,
	address varchar(255) NULL,
	gender varchar(10) NULL,
	birth_date date NULL,
	location_id int8 NULL,
	bio text NULL,
	experience text NULL,
	photo varchar(255) NULL,
	CONSTRAINT user_profiles_gender_check CHECK (((gender)::text = ANY (ARRAY[('male'::character varying)::text, ('female'::character varying)::text]))),
	CONSTRAINT user_profiles_pkey PRIMARY KEY (id),
	CONSTRAINT user_profiles_location_id_fkey FOREIGN KEY (location_id) REFERENCES public.locations(id) ON DELETE SET NULL,
	CONSTRAINT user_profiles_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE
);


-- public.version_documents definition

-- Drop table

-- DROP TABLE public.version_documents;

CREATE TABLE public.version_documents (
	id bigserial NOT NULL,
	document_id int8 NULL,
	file_id int8 NULL,
	num_version varchar(255) NULL,
	observations varchar(255) NULL,
	user_id int8 NULL,
	CONSTRAINT version_documents_pkey PRIMARY KEY (id),
	CONSTRAINT version_documents_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id)
);


-- public.vocational_questions definition

-- Drop table

-- DROP TABLE public.vocational_questions;

CREATE TABLE public.vocational_questions (
	id bigserial NOT NULL,
	id_question int8 NULL,
	id_questionnaire int8 NULL,
	text_question varchar(250) NULL,
	type_response varchar(250) NULL,
	CONSTRAINT vocational_questions_pkey PRIMARY KEY (id),
	CONSTRAINT vocational_questions_id_questionnaire_fkey FOREIGN KEY (id_questionnaire) REFERENCES public.vocational_questionnaires(id)
);


-- public.vocational_responses definition

-- Drop table

-- DROP TABLE public.vocational_responses;

CREATE TABLE public.vocational_responses (
	id bigserial NOT NULL,
	id_response int8 NULL,
	id_question int8 NULL,
	text_response varchar(250) NULL,
	type_response varchar(250) NULL,
	CONSTRAINT vocational_responses_pkey PRIMARY KEY (id),
	CONSTRAINT vocational_responses_id_question_fkey FOREIGN KEY (id_question) REFERENCES public.vocational_questions(id)
);


-- public.vocational_results definition

-- Drop table

-- DROP TABLE public.vocational_results;

CREATE TABLE public.vocational_results (
	id bigserial NOT NULL,
	id_resultado int8 NULL,
	student_id int8 NULL,
	questionnaire_id int8 NULL,
	recommended_profile varchar(100) NULL,
	completed_date timestamptz NULL,
	score numeric(5, 2) NULL,
	recommendation varchar(250) NULL,
	CONSTRAINT vocational_results_pkey PRIMARY KEY (id),
	CONSTRAINT vocational_results_questionnaire_id_fkey FOREIGN KEY (questionnaire_id) REFERENCES public.vocational_questionnaires(id),
	CONSTRAINT vocational_results_student_id_fkey FOREIGN KEY (student_id) REFERENCES public.students(id)
);


-- public.budget_impacts definition

-- Drop table

-- DROP TABLE public.budget_impacts;

CREATE TABLE public.budget_impacts (
	id_budget_impact bigserial NOT NULL,
	final_transaction_id int8 NULL,
	budget_id int8 NULL,
	impact_amount numeric(15, 2) NULL,
	"date" timestamptz DEFAULT CURRENT_TIMESTAMP NULL,
	user_id int8 NULL,
	CONSTRAINT budget_impacts_pkey PRIMARY KEY (id_budget_impact),
	CONSTRAINT budget_impacts_budget_id_fkey FOREIGN KEY (budget_id) REFERENCES public.budgets(id_budget),
	CONSTRAINT budget_impacts_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id)
);


-- public.channels definition

-- Drop table

-- DROP TABLE public.channels;

CREATE TABLE public.channels (
	id bigserial NOT NULL,
	"name" varchar(255) NULL,
	channel_type varchar(100) NULL,
	related_plan_id int8 NULL,
	created_by_user_id int8 NULL,
	members jsonb NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT channels_pkey PRIMARY KEY (id),
	CONSTRAINT channels_created_by_user_id_fkey FOREIGN KEY (created_by_user_id) REFERENCES public.users(id),
	CONSTRAINT channels_related_plan_id_fkey FOREIGN KEY (related_plan_id) REFERENCES public.strategic_plans(id)
);


-- public.chat_messages definition

-- Drop table

-- DROP TABLE public.chat_messages;

CREATE TABLE public.chat_messages (
	id bigserial NOT NULL,
	id_message int8 NULL,
	sender_id int8 NULL,
	receiver_id int8 NULL,
	"content" varchar(250) NULL,
	sent_date timestamptz NULL,
	seen bool NULL,
	CONSTRAINT chat_messages_pkey PRIMARY KEY (id),
	CONSTRAINT chat_messages_receiver_id_fkey FOREIGN KEY (receiver_id) REFERENCES public.students(id),
	CONSTRAINT chat_messages_sender_id_fkey FOREIGN KEY (sender_id) REFERENCES public.students(id)
);


-- public.claims definition

-- Drop table

-- DROP TABLE public.claims;

CREATE TABLE public.claims (
	id bigserial NOT NULL,
	id_claim int8 NULL,
	estudent_id int8 NULL,
	"type" varchar(15) NULL,
	category varchar(50) NULL,
	priority varchar(10) NULL,
	description varchar(250) NULL,
	state varchar(14) NULL,
	creation_date timestamptz NULL,
	CONSTRAINT claims_pkey PRIMARY KEY (id),
	CONSTRAINT claims_priority_check CHECK (((priority)::text = ANY (ARRAY[('Alta'::character varying)::text, ('Media'::character varying)::text, ('Baja'::character varying)::text]))),
	CONSTRAINT claims_state_check CHECK (((state)::text = ANY (ARRAY[('Agendada'::character varying)::text, ('Realizada'::character varying)::text, ('Cancelada'::character varying)::text]))),
	CONSTRAINT claims_type_check CHECK (((type)::text = ANY (ARRAY[('Reclamo'::character varying)::text, ('Sugerencia'::character varying)::text]))),
	CONSTRAINT claims_estudent_id_fkey FOREIGN KEY (estudent_id) REFERENCES public.students(id)
);


-- public.classes definition

-- Drop table

-- DROP TABLE public.classes;

CREATE TABLE public.classes (
	id bigserial NOT NULL,
	group_id int8 NOT NULL,
	class_name varchar(100) NOT NULL,
	class_date date NOT NULL,
	start_time time NOT NULL,
	end_time time NOT NULL,
	platform varchar(50) DEFAULT 'Zoom'::character varying NULL,
	meeting_url varchar(500) NULL,
	external_meeting_id varchar(100) NULL,
	meeting_password varchar(100) NULL,
	allow_recording bool DEFAULT true NULL,
	recording_url varchar(500) NULL,
	max_participants int8 DEFAULT 100 NULL,
	class_status varchar(12) DEFAULT 'SCHEDULED'::character varying NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT classes_class_status_check CHECK (((class_status)::text = ANY (ARRAY[('SCHEDULED'::character varying)::text, ('IN_PROGRESS'::character varying)::text, ('FINISHED'::character varying)::text, ('CANCELLED'::character varying)::text]))),
	CONSTRAINT classes_max_participants_check CHECK ((max_participants > 0)),
	CONSTRAINT classes_pkey PRIMARY KEY (id),
	CONSTRAINT classes_group_id_fkey FOREIGN KEY (group_id) REFERENCES public."groups"(id) ON DELETE CASCADE
);


-- public.community_events definition

-- Drop table

-- DROP TABLE public.community_events;

CREATE TABLE public.community_events (
	id bigserial NOT NULL,
	id_event int8 NULL,
	titulo varchar(100) NULL,
	description varchar(200) NULL,
	event_date timestamptz NULL,
	student_id int8 NULL,
	CONSTRAINT community_events_pkey PRIMARY KEY (id),
	CONSTRAINT community_events_student_id_fkey FOREIGN KEY (student_id) REFERENCES public.students(id)
);


-- public.content_performance definition

-- Drop table

-- DROP TABLE public.content_performance;

CREATE TABLE public.content_performance (
	id bigserial NOT NULL,
	content_id int8 NULL,
	"views" int8 DEFAULT 0 NULL,
	likes int8 DEFAULT 0 NULL,
	shares int8 DEFAULT 0 NULL,
	click_rate numeric(5, 4) NULL,
	CONSTRAINT content_performance_pkey PRIMARY KEY (id),
	CONSTRAINT content_performance_content_id_fkey FOREIGN KEY (content_id) REFERENCES public.contents(id)
);


-- public.course_instructors definition

-- Drop table

-- DROP TABLE public.course_instructors;

CREATE TABLE public.course_instructors (
	id bigserial NOT NULL,
	id_course_inst int8 NULL,
	instructor_id int8 NOT NULL,
	course_id int8 NOT NULL,
	assigned_date timestamptz DEFAULT now() NULL,
	CONSTRAINT course_instructors_pkey PRIMARY KEY (id),
	CONSTRAINT course_instructors_course_id_fkey FOREIGN KEY (course_id) REFERENCES public.courses(id),
	CONSTRAINT course_instructors_instructor_id_fkey FOREIGN KEY (instructor_id) REFERENCES public.instructors(id)
);


-- public.course_offerings definition

-- Drop table

-- DROP TABLE public.course_offerings;

CREATE TABLE public.course_offerings (
	id bigserial NOT NULL,
	course_offering_id int8 NULL,
	course_id int8 NOT NULL,
	academic_period_id int8 NOT NULL,
	instructor_id int8 NULL,
	schedule text NULL,
	delivery_method varchar(50) DEFAULT 'regular'::character varying NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT course_offerings_pkey PRIMARY KEY (id),
	CONSTRAINT course_offerings_academic_period_id_fkey FOREIGN KEY (academic_period_id) REFERENCES public.academic_periods(id),
	CONSTRAINT course_offerings_course_id_fkey FOREIGN KEY (course_id) REFERENCES public.courses(id),
	CONSTRAINT course_offerings_instructor_id_fkey FOREIGN KEY (instructor_id) REFERENCES public.instructors(id)
);


-- public.dashboards definition

-- Drop table

-- DROP TABLE public.dashboards;

CREATE TABLE public.dashboards (
	id bigserial NOT NULL,
	plan_id int8 NULL,
	title varchar(255) NULL,
	owner_user_id int8 NULL,
	widgets jsonb NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT dashboards_pkey PRIMARY KEY (id),
	CONSTRAINT dashboards_owner_user_id_fkey FOREIGN KEY (owner_user_id) REFERENCES public.users(id),
	CONSTRAINT dashboards_plan_id_fkey FOREIGN KEY (plan_id) REFERENCES public.strategic_plans(id)
);


-- public.document_histories definition

-- Drop table

-- DROP TABLE public.document_histories;

CREATE TABLE public.document_histories (
	id bigserial NOT NULL,
	document_id int8 NULL,
	"version" int8 NULL,
	change_description text NULL,
	changed_by int8 NULL,
	CONSTRAINT document_histories_pkey PRIMARY KEY (id),
	CONSTRAINT document_histories_changed_by_fkey FOREIGN KEY (changed_by) REFERENCES public.users(id),
	CONSTRAINT document_histories_document_id_fkey FOREIGN KEY (document_id) REFERENCES public.documents(id)
);


-- public.document_versions definition

-- Drop table

-- DROP TABLE public.document_versions;

CREATE TABLE public.document_versions (
	id bigserial NOT NULL,
	document_id int8 NOT NULL,
	version_number int8 DEFAULT 1 NULL,
	file_name varchar(255) NOT NULL,
	storage_path varchar(1024) NOT NULL,
	mime_type varchar(100) NULL,
	file_size int8 NULL,
	uploaded_by_user_id int8 NULL,
	uploaded_at timestamptz DEFAULT now() NULL,
	checksum varchar(128) NULL,
	notes text NULL,
	linked_type varchar(100) NULL,
	linked_id int8 NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT document_versions_pkey PRIMARY KEY (id),
	CONSTRAINT document_versions_document_id_fkey FOREIGN KEY (document_id) REFERENCES public.documents(id),
	CONSTRAINT document_versions_uploaded_by_user_id_fkey FOREIGN KEY (uploaded_by_user_id) REFERENCES public.users(id)
);


-- public.documentary_processings definition

-- Drop table

-- DROP TABLE public.documentary_processings;

CREATE TABLE public.documentary_processings (
	id bigserial NOT NULL,
	id_document int8 NULL,
	student_id int8 NULL,
	type_id int8 NULL,
	description varchar(250) NULL,
	creation_date timestamptz NULL,
	update_date timestamptz NULL,
	current_state varchar(16) NULL,
	final_answer varchar(500) NULL,
	CONSTRAINT documentary_processings_current_state_check CHECK (((current_state)::text = ANY (ARRAY[('completed'::character varying)::text, ('failed'::character varying)::text, ('in_progress'::character varying)::text]))),
	CONSTRAINT documentary_processings_pkey PRIMARY KEY (id),
	CONSTRAINT documentary_processings_student_id_fkey FOREIGN KEY (student_id) REFERENCES public.students(id),
	CONSTRAINT documentary_processings_type_id_fkey FOREIGN KEY (type_id) REFERENCES public.type_documentary_processings(id)
);


-- public.employability_surveys definition

-- Drop table

-- DROP TABLE public.employability_surveys;

CREATE TABLE public.employability_surveys (
	id bigserial NOT NULL,
	id_survey int8 NULL,
	id_graduates int8 NULL,
	registration_date timestamptz DEFAULT now() NULL,
	CONSTRAINT employability_surveys_pkey PRIMARY KEY (id),
	CONSTRAINT employability_surveys_id_graduates_fkey FOREIGN KEY (id_graduates) REFERENCES public.graduates(id)
);


-- public.employees definition

-- Drop table

-- DROP TABLE public.employees;

CREATE TABLE public.employees (
	id bigserial NOT NULL,
	employee_id int8 NULL,
	hire_date date NULL,
	position_id int8 NOT NULL,
	department_id int8 NOT NULL,
	user_id int8 NULL,
	employment_status varchar(20) NULL,
	schedule text NULL,
	speciality varchar(255) NULL,
	salary numeric(10, 2) NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT employees_employment_status_check CHECK (((employment_status)::text = ANY (ARRAY[('Active'::character varying)::text, ('Inactive'::character varying)::text, ('Terminated'::character varying)::text]))),
	CONSTRAINT employees_pkey PRIMARY KEY (id),
	CONSTRAINT employees_department_id_fkey FOREIGN KEY (department_id) REFERENCES public.departments(id),
	CONSTRAINT employees_position_id_fkey FOREIGN KEY (position_id) REFERENCES public.positions(id),
	CONSTRAINT employees_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id)
);


-- public.enrollments definition

-- Drop table

-- DROP TABLE public.enrollments;

CREATE TABLE public.enrollments (
	id bigserial NOT NULL,
	enrollment_id int8 NULL,
	student_id int8 NULL,
	academic_period_id int8 NULL,
	enrollment_type varchar(100) DEFAULT 'new'::character varying NULL,
	enrollment_date date NULL,
	status varchar(20) DEFAULT 'active'::character varying NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT enrollments_pkey PRIMARY KEY (id),
	CONSTRAINT enrollments_academic_period_id_fkey FOREIGN KEY (academic_period_id) REFERENCES public.academic_periods(id),
	CONSTRAINT enrollments_student_id_fkey FOREIGN KEY (student_id) REFERENCES public.students(id)
);


-- public.evaluations definition

-- Drop table

-- DROP TABLE public.evaluations;

CREATE TABLE public.evaluations (
	id bigserial NOT NULL,
	group_id int8 NOT NULL,
	title varchar(200) NOT NULL,
	evaluation_type varchar(20) NOT NULL,
	start_date timestamptz NOT NULL,
	end_date timestamptz NOT NULL,
	duration_minutes int8 NOT NULL,
	total_score numeric(5, 2) NOT NULL,
	status varchar(20) DEFAULT 'Active'::character varying NULL,
	teacher_creator_id int8 NULL,
	CONSTRAINT evaluations_duration_minutes_check CHECK ((duration_minutes > 0)),
	CONSTRAINT evaluations_evaluation_type_check CHECK (((evaluation_type)::text = ANY (ARRAY[('Exam'::character varying)::text, ('Quiz'::character varying)::text, ('Project'::character varying)::text, ('Assignment'::character varying)::text, ('Final'::character varying)::text]))),
	CONSTRAINT evaluations_pkey PRIMARY KEY (id),
	CONSTRAINT evaluations_status_check CHECK (((status)::text = ANY (ARRAY[('Active'::character varying)::text, ('Inactive'::character varying)::text, ('Finished'::character varying)::text]))),
	CONSTRAINT evaluations_total_score_check CHECK ((total_score > (0)::numeric)),
	CONSTRAINT evaluations_group_id_fkey FOREIGN KEY (group_id) REFERENCES public."groups"(id) ON DELETE CASCADE,
	CONSTRAINT evaluations_teacher_creator_id_fkey FOREIGN KEY (teacher_creator_id) REFERENCES public.users(id) ON DELETE SET NULL
);


-- public.extracurricular_enrollments definition

-- Drop table

-- DROP TABLE public.extracurricular_enrollments;

CREATE TABLE public.extracurricular_enrollments (
	id bigserial NOT NULL,
	id_enrollment int8 NULL,
	activity_id int8 NOT NULL,
	student_id int8 NOT NULL,
	status varchar(15) DEFAULT 'registered'::character varying NULL,
	"role" varchar(16) DEFAULT 'participant'::character varying NULL,
	attendance_at timestamptz NULL,
	CONSTRAINT extracurricular_enrollments_pkey PRIMARY KEY (id),
	CONSTRAINT extracurricular_enrollments_role_check CHECK (((role)::text = ANY (ARRAY[('participant'::character varying)::text, ('organizer'::character varying)::text, ('coach'::character varying)::text]))),
	CONSTRAINT extracurricular_enrollments_status_check CHECK (((status)::text = ANY (ARRAY[('registered'::character varying)::text, ('confirmed'::character varying)::text, ('attended'::character varying)::text, ('cancelled'::character varying)::text]))),
	CONSTRAINT extracurricular_enrollments_activity_id_fkey FOREIGN KEY (activity_id) REFERENCES public.extracurricular_activities(id),
	CONSTRAINT extracurricular_enrollments_student_id_fkey FOREIGN KEY (student_id) REFERENCES public.students(id)
);


-- public.grade_configurations definition

-- Drop table

-- DROP TABLE public.grade_configurations;

CREATE TABLE public.grade_configurations (
	id bigserial NOT NULL,
	group_id int8 NOT NULL,
	grading_system varchar(50) NOT NULL,
	max_grade numeric(5, 2) NOT NULL,
	passing_grade numeric(5, 2) NOT NULL,
	evaluation_weight numeric(5, 2) DEFAULT 100.00 NULL,
	CONSTRAINT grade_configurations_group_id_key UNIQUE (group_id),
	CONSTRAINT grade_configurations_pkey PRIMARY KEY (id),
	CONSTRAINT grade_configurations_group_id_fkey FOREIGN KEY (group_id) REFERENCES public."groups"(id) ON DELETE CASCADE
);


-- public.grade_records definition

-- Drop table

-- DROP TABLE public.grade_records;

CREATE TABLE public.grade_records (
	id bigserial NOT NULL,
	user_id int8 NOT NULL,
	evaluation_id int8 NOT NULL,
	group_id int8 NOT NULL,
	configuration_id int8 NOT NULL,
	obtained_grade numeric(5, 2) NOT NULL,
	grade_weight numeric(5, 2) NOT NULL,
	grade_type varchar(20) NOT NULL,
	status varchar(20) DEFAULT 'Recorded'::character varying NULL,
	record_date timestamptz DEFAULT now() NULL,
	CONSTRAINT grade_records_grade_type_check CHECK (((grade_type)::text = ANY (ARRAY[('Partial'::character varying)::text, ('Final'::character varying)::text, ('Makeup'::character varying)::text]))),
	CONSTRAINT grade_records_pkey PRIMARY KEY (id),
	CONSTRAINT grade_records_status_check CHECK (((status)::text = ANY (ARRAY[('Recorded'::character varying)::text, ('Validated'::character varying)::text, ('Published'::character varying)::text, ('Observed'::character varying)::text]))),
	CONSTRAINT grade_records_configuration_id_fkey FOREIGN KEY (configuration_id) REFERENCES public.grade_configurations(id) ON DELETE CASCADE,
	CONSTRAINT grade_records_evaluation_id_fkey FOREIGN KEY (evaluation_id) REFERENCES public.evaluations(id) ON DELETE CASCADE,
	CONSTRAINT grade_records_group_id_fkey FOREIGN KEY (group_id) REFERENCES public."groups"(id) ON DELETE CASCADE,
	CONSTRAINT grade_records_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE
);


-- public.graduate_surveys definition

-- Drop table

-- DROP TABLE public.graduate_surveys;

CREATE TABLE public.graduate_surveys (
	id bigserial NOT NULL,
	graduate_id int8 NOT NULL,
	"date" date NOT NULL,
	employability varchar(255) NULL,
	satisfaction varchar(50) NULL,
	curriculum_feedback text NULL,
	CONSTRAINT graduate_surveys_pkey PRIMARY KEY (id),
	CONSTRAINT graduate_surveys_graduate_id_fkey FOREIGN KEY (graduate_id) REFERENCES public.graduates(id) ON DELETE CASCADE
);


-- public.group_participants definition

-- Drop table

-- DROP TABLE public.group_participants;

CREATE TABLE public.group_participants (
	id bigserial NOT NULL,
	group_id int8 NOT NULL,
	user_id int8 NOT NULL,
	"role" varchar(10) NOT NULL,
	teacher_function varchar(20) NULL,
	enrollment_status varchar(12) DEFAULT 'active'::character varying NULL,
	assignment_date timestamptz DEFAULT now() NULL,
	schedule jsonb NULL,
	CONSTRAINT group_participants_enrollment_status_check CHECK (((enrollment_status)::text = ANY (ARRAY[('pending'::character varying)::text, ('approved'::character varying)::text, ('rejected'::character varying)::text, ('active'::character varying)::text, ('withdrawn'::character varying)::text, ('finished'::character varying)::text]))),
	CONSTRAINT group_participants_pkey PRIMARY KEY (id),
	CONSTRAINT group_participants_role_check CHECK (((role)::text = ANY (ARRAY[('student'::character varying)::text, ('teacher'::character varying)::text]))),
	CONSTRAINT group_participants_teacher_function_check CHECK (((teacher_function)::text = ANY (ARRAY[('titular'::character varying)::text, ('auxiliary'::character varying)::text, ('coordinator'::character varying)::text]))),
	CONSTRAINT uq_group_user UNIQUE (group_id, user_id),
	CONSTRAINT group_participants_group_id_fkey FOREIGN KEY (group_id) REFERENCES public."groups"(id) ON DELETE CASCADE,
	CONSTRAINT group_participants_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE
);


-- public.incidents definition

-- Drop table

-- DROP TABLE public.incidents;

CREATE TABLE public.incidents (
	id bigserial NOT NULL,
	id_incident int8 NULL,
	alert_id int8 NULL,
	responsible_id int8 NULL,
	title varchar(255) NOT NULL,
	status varchar(50) DEFAULT 'open'::character varying NULL,
	report_date timestamptz DEFAULT now() NULL,
	CONSTRAINT incidents_pkey PRIMARY KEY (id),
	CONSTRAINT incidents_alert_id_fkey FOREIGN KEY (alert_id) REFERENCES public.security_alerts(id),
	CONSTRAINT incidents_responsible_id_fkey FOREIGN KEY (responsible_id) REFERENCES public.employees(id)
);


-- public.indicator_alerts definition

-- Drop table

-- DROP TABLE public.indicator_alerts;

CREATE TABLE public.indicator_alerts (
	id bigserial NOT NULL,
	indicator_id int8 NULL,
	current_value numeric(10, 2) NULL,
	threshold numeric(10, 2) NULL,
	status varchar(20) NULL,
	notified bool DEFAULT false NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT indicator_alerts_pkey PRIMARY KEY (id),
	CONSTRAINT indicator_alerts_status_check CHECK (((status)::text = ANY (ARRAY[('normal'::character varying)::text, ('alert'::character varying)::text, ('critical'::character varying)::text]))),
	CONSTRAINT indicator_alerts_indicator_id_fkey FOREIGN KEY (indicator_id) REFERENCES public.indicators(id)
);


-- public.indicator_measurements definition

-- Drop table

-- DROP TABLE public.indicator_measurements;

CREATE TABLE public.indicator_measurements (
	id bigserial NOT NULL,
	indicator_id int8 NULL,
	"period" varchar(20) NULL,
	value numeric(10, 2) NULL,
	data_source varchar(255) NULL,
	recorded_at timestamptz DEFAULT now() NULL,
	recorded_by int8 NULL,
	CONSTRAINT indicator_measurements_pkey PRIMARY KEY (id),
	CONSTRAINT indicator_measurements_indicator_id_fkey FOREIGN KEY (indicator_id) REFERENCES public.indicators(id),
	CONSTRAINT indicator_measurements_recorded_by_fkey FOREIGN KEY (recorded_by) REFERENCES public.users(id)
);


-- public.initiatives definition

-- Drop table

-- DROP TABLE public.initiatives;

CREATE TABLE public.initiatives (
	id bigserial NOT NULL,
	plan_id int8 NULL,
	title varchar(255) NULL,
	summary text NULL,
	responsible_team_id int8 NULL,
	responsible_user_id int8 NULL,
	status varchar(50) NULL,
	start_date date NULL,
	end_date date NULL,
	estimated_impact varchar(255) NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	deleted_at timestamptz NULL,
	CONSTRAINT initiatives_pkey PRIMARY KEY (id),
	CONSTRAINT initiatives_plan_id_fkey FOREIGN KEY (plan_id) REFERENCES public.strategic_plans(id),
	CONSTRAINT initiatives_responsible_team_id_fkey FOREIGN KEY (responsible_team_id) REFERENCES public.teams(id),
	CONSTRAINT initiatives_responsible_user_id_fkey FOREIGN KEY (responsible_user_id) REFERENCES public.users(id)
);


-- public.instructor_evaluations definition

-- Drop table

-- DROP TABLE public.instructor_evaluations;

CREATE TABLE public.instructor_evaluations (
	id bigserial NOT NULL,
	instructor_evaluation_id int8 NULL,
	student_id int8 NULL,
	instructor_id int8 NULL,
	course_offering_id int8 NULL,
	rating numeric(3, 2) NULL,
	feedback text NULL,
	evaluation_period varchar(255) NULL,
	evaluation_status varchar(255) NULL,
	evaluation_date timestamptz DEFAULT now() NULL,
	CONSTRAINT instructor_evaluations_pkey PRIMARY KEY (id),
	CONSTRAINT instructor_evaluations_course_offering_id_fkey FOREIGN KEY (course_offering_id) REFERENCES public.course_offerings(id),
	CONSTRAINT instructor_evaluations_instructor_id_fkey FOREIGN KEY (instructor_id) REFERENCES public.instructors(id),
	CONSTRAINT instructor_evaluations_student_id_fkey FOREIGN KEY (student_id) REFERENCES public.students(id)
);


-- public.invoices definition

-- Drop table

-- DROP TABLE public.invoices;

CREATE TABLE public.invoices (
	id bigserial NOT NULL,
	enrollment_id int8 NULL,
	revenue_source_id int8 NULL,
	invoice_number varchar(50) NULL,
	issue_date date NULL,
	total_amount numeric(10, 2) NULL,
	status varchar(20) DEFAULT 'Pending'::character varying NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT invoices_pkey PRIMARY KEY (id),
	CONSTRAINT invoices_status_check CHECK (((status)::text = ANY (ARRAY[('Pending'::character varying)::text, ('Paid'::character varying)::text, ('Cancelled'::character varying)::text]))),
	CONSTRAINT invoices_enrollment_id_fkey FOREIGN KEY (enrollment_id) REFERENCES public.enrollments(id),
	CONSTRAINT invoices_revenue_source_id_fkey FOREIGN KEY (revenue_source_id) REFERENCES public.revenue_sources(id)
);


-- public.job_vacancies definition

-- Drop table

-- DROP TABLE public.job_vacancies;

CREATE TABLE public.job_vacancies (
	id bigserial NOT NULL,
	position_id int8 NOT NULL,
	department_id int8 NOT NULL,
	status varchar(20) DEFAULT 'Open'::character varying NULL,
	posted_date date DEFAULT CURRENT_DATE NULL,
	description text NULL,
	requirements text NULL,
	salary_range varchar(50) NULL,
	CONSTRAINT job_vacancies_pkey PRIMARY KEY (id),
	CONSTRAINT job_vacancies_status_check CHECK (((status)::text = ANY (ARRAY[('Open'::character varying)::text, ('In Progress'::character varying)::text, ('Closed'::character varying)::text]))),
	CONSTRAINT job_vacancies_department_id_fkey FOREIGN KEY (department_id) REFERENCES public.departments(id),
	CONSTRAINT job_vacancies_position_id_fkey FOREIGN KEY (position_id) REFERENCES public.positions(id)
);


-- public.licenses definition

-- Drop table

-- DROP TABLE public.licenses;

CREATE TABLE public.licenses (
	id bigserial NOT NULL,
	id_license int8 NULL,
	software_name varchar(255) NOT NULL,
	license_key text NULL,
	license_type varchar(100) NULL,
	provider varchar(255) NULL,
	purchase_date date NULL,
	expiration_date date NULL,
	seats_total int8 NULL,
	seats_used int8 DEFAULT 0 NULL,
	cost_annual numeric(12, 2) NULL,
	status varchar(50) DEFAULT 'active'::character varying NULL,
	responsible_id int8 NULL,
	notes text NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT licenses_pkey PRIMARY KEY (id),
	CONSTRAINT licenses_responsible_id_fkey FOREIGN KEY (responsible_id) REFERENCES public.employees(id)
);


-- public.messages definition

-- Drop table

-- DROP TABLE public.messages;

CREATE TABLE public.messages (
	id bigserial NOT NULL,
	channel_id int8 NOT NULL,
	user_id int8 NOT NULL,
	"content" text NULL,
	parent_id int8 NULL,
	pinned bool DEFAULT false NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT messages_pkey PRIMARY KEY (id),
	CONSTRAINT messages_channel_id_fkey FOREIGN KEY (channel_id) REFERENCES public.channels(id),
	CONSTRAINT messages_parent_id_fkey FOREIGN KEY (parent_id) REFERENCES public.messages(id),
	CONSTRAINT messages_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id)
);


-- public.payment_plans definition

-- Drop table

-- DROP TABLE public.payment_plans;

CREATE TABLE public.payment_plans (
	id bigserial NOT NULL,
	invoice_id int8 NULL,
	installments int8 NULL,
	installment_amount numeric(10, 2) NULL,
	total_amount numeric(10, 2) NULL,
	status varchar(20) DEFAULT 'Active'::character varying NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT payment_plans_pkey PRIMARY KEY (id),
	CONSTRAINT payment_plans_status_check CHECK (((status)::text = ANY (ARRAY[('Active'::character varying)::text, ('Completed'::character varying)::text, ('Defaulted'::character varying)::text]))),
	CONSTRAINT payment_plans_invoice_id_fkey FOREIGN KEY (invoice_id) REFERENCES public.invoices(id)
);


-- public.payments definition

-- Drop table

-- DROP TABLE public.payments;

CREATE TABLE public.payments (
	id bigserial NOT NULL,
	invoice_id int8 NULL,
	payment_method_id int8 NULL,
	amount numeric(10, 2) NULL,
	payment_date date NULL,
	status varchar(20) DEFAULT 'Pending'::character varying NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT payments_pkey PRIMARY KEY (id),
	CONSTRAINT payments_status_check CHECK (((status)::text = ANY (ARRAY[('Pending'::character varying)::text, ('Completed'::character varying)::text, ('Failed'::character varying)::text]))),
	CONSTRAINT payments_invoice_id_fkey FOREIGN KEY (invoice_id) REFERENCES public.invoices(id),
	CONSTRAINT payments_payment_method_id_fkey FOREIGN KEY (payment_method_id) REFERENCES public.payment_methods(id)
);


-- public.performance_evaluations definition

-- Drop table

-- DROP TABLE public.performance_evaluations;

CREATE TABLE public.performance_evaluations (
	id bigserial NOT NULL,
	employee_id int8 NULL,
	"period" varchar(20) NULL,
	score numeric(5, 2) NULL,
	"comments" text NULL,
	CONSTRAINT performance_evaluations_pkey PRIMARY KEY (id),
	CONSTRAINT performance_evaluations_employee_id_fkey FOREIGN KEY (employee_id) REFERENCES public.employees(id)
);


-- public.publications definition

-- Drop table

-- DROP TABLE public.publications;

CREATE TABLE public.publications (
	id bigserial NOT NULL,
	id_publicacion int8 NULL,
	forum_id int8 NULL,
	student_id int8 NULL,
	"content" varchar(250) NULL,
	creation_date timestamptz NULL,
	moderado bool NULL,
	CONSTRAINT publications_pkey PRIMARY KEY (id),
	CONSTRAINT publications_forum_id_fkey FOREIGN KEY (forum_id) REFERENCES public.forums(id),
	CONSTRAINT publications_student_id_fkey FOREIGN KEY (student_id) REFERENCES public.students(id)
);


-- public.questions definition

-- Drop table

-- DROP TABLE public.questions;

CREATE TABLE public.questions (
	id bigserial NOT NULL,
	evaluation_id int8 NOT NULL,
	"statement" text NOT NULL,
	question_type varchar(20) NOT NULL,
	answer_options jsonb NULL,
	correct_answer jsonb NULL,
	score numeric(5, 2) NOT NULL,
	CONSTRAINT questions_pkey PRIMARY KEY (id),
	CONSTRAINT questions_question_type_check CHECK (((question_type)::text = ANY (ARRAY[('Multiple'::character varying)::text, ('Essay'::character varying)::text, ('True_False'::character varying)::text]))),
	CONSTRAINT questions_score_check CHECK ((score > (0)::numeric)),
	CONSTRAINT questions_evaluation_id_fkey FOREIGN KEY (evaluation_id) REFERENCES public.evaluations(id) ON DELETE CASCADE
);


-- public.response_graduates definition

-- Drop table

-- DROP TABLE public.response_graduates;

CREATE TABLE public.response_graduates (
	id bigserial NOT NULL,
	id_answer int8 NULL,
	id_survey int8 NULL,
	id_question int8 NULL,
	id_option int8 NULL,
	answer_text varchar(255) NULL,
	answer_number float8 NULL,
	fanswer_date timestamptz NULL,
	CONSTRAINT response_graduates_pkey PRIMARY KEY (id),
	CONSTRAINT response_graduates_id_option_fkey FOREIGN KEY (id_option) REFERENCES public.option_job_questions(id),
	CONSTRAINT response_graduates_id_question_fkey FOREIGN KEY (id_question) REFERENCES public.employability_questions(id),
	CONSTRAINT response_graduates_id_survey_fkey FOREIGN KEY (id_survey) REFERENCES public.employability_surveys(id)
);


-- public.satisfaction_questions definition

-- Drop table

-- DROP TABLE public.satisfaction_questions;

CREATE TABLE public.satisfaction_questions (
	id bigserial NOT NULL,
	id_satisfaction_question int8 NULL,
	id_survey int8 NOT NULL,
	question_text varchar(255) NOT NULL,
	"type" varchar(255) NULL,
	CONSTRAINT satisfaction_questions_pkey PRIMARY KEY (id),
	CONSTRAINT satisfaction_questions_id_survey_fkey FOREIGN KEY (id_survey) REFERENCES public.satisfaction_surveys(id)
);


-- public.softwares definition

-- Drop table

-- DROP TABLE public.softwares;

CREATE TABLE public.softwares (
	id bigserial NOT NULL,
	id_software int8 NULL,
	software_name varchar(255) NOT NULL,
	"version" varchar(100) NULL,
	category varchar(100) NULL,
	vendor varchar(255) NULL,
	license_id int8 NULL,
	installation_date timestamptz NULL,
	last_update timestamptz NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT softwares_pkey PRIMARY KEY (id),
	CONSTRAINT softwares_license_id_fkey FOREIGN KEY (license_id) REFERENCES public.licenses(id)
);


-- public.strategic_objectives definition

-- Drop table

-- DROP TABLE public.strategic_objectives;

CREATE TABLE public.strategic_objectives (
	id bigserial NOT NULL,
	plan_id int8 NOT NULL,
	title varchar(255) NOT NULL,
	description text NULL,
	goal_value numeric(12, 2) NULL,
	responsible_user_id int8 NULL,
	weight int8 DEFAULT 0 NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT strategic_objectives_pkey PRIMARY KEY (id),
	CONSTRAINT strategic_objectives_plan_id_fkey FOREIGN KEY (plan_id) REFERENCES public.strategic_plans(id),
	CONSTRAINT strategic_objectives_responsible_user_id_fkey FOREIGN KEY (responsible_user_id) REFERENCES public.users(id)
);


-- public.student_courses definition

-- Drop table

-- DROP TABLE public.student_courses;

CREATE TABLE public.student_courses (
	id bigserial NOT NULL,
	id_student_course int8 NULL,
	id_student int8 NOT NULL,
	id_curse int8 NOT NULL,
	assigned_date timestamptz NULL,
	CONSTRAINT student_courses_pkey PRIMARY KEY (id),
	CONSTRAINT student_courses_id_curse_fkey FOREIGN KEY (id_curse) REFERENCES public.courses(id),
	CONSTRAINT student_courses_id_student_fkey FOREIGN KEY (id_student) REFERENCES public.students(id)
);


-- public.survey_questions definition

-- Drop table

-- DROP TABLE public.survey_questions;

CREATE TABLE public.survey_questions (
	id bigserial NOT NULL,
	survey_id int8 NOT NULL,
	question_text text NULL,
	question_type varchar(50) NULL,
	CONSTRAINT survey_questions_pkey PRIMARY KEY (id),
	CONSTRAINT survey_questions_survey_id_fkey FOREIGN KEY (survey_id) REFERENCES public.surveys(id)
);


-- public.survey_responses definition

-- Drop table

-- DROP TABLE public.survey_responses;

CREATE TABLE public.survey_responses (
	id bigserial NOT NULL,
	survey_id int8 NOT NULL,
	respondent_user_id int8 NULL,
	answers jsonb NULL,
	completed_at timestamptz NULL,
	CONSTRAINT survey_responses_pkey PRIMARY KEY (id),
	CONSTRAINT survey_responses_respondent_user_id_fkey FOREIGN KEY (respondent_user_id) REFERENCES public.users(id),
	CONSTRAINT survey_responses_survey_id_fkey FOREIGN KEY (survey_id) REFERENCES public.surveys(id)
);


-- public.tasks definition

-- Drop table

-- DROP TABLE public.tasks;

CREATE TABLE public.tasks (
	id bigserial NOT NULL,
	title varchar(255) NULL,
	description text NULL,
	channel_id int8 NULL,
	initiative_id int8 NULL,
	status varchar(50) NULL,
	priority varchar(50) NULL,
	due_date date NULL,
	created_by_user_id int8 NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT tasks_pkey PRIMARY KEY (id),
	CONSTRAINT tasks_channel_id_fkey FOREIGN KEY (channel_id) REFERENCES public.channels(id),
	CONSTRAINT tasks_created_by_user_id_fkey FOREIGN KEY (created_by_user_id) REFERENCES public.users(id),
	CONSTRAINT tasks_initiative_id_fkey FOREIGN KEY (initiative_id) REFERENCES public.initiatives(id)
);


-- public.tickets definition

-- Drop table

-- DROP TABLE public.tickets;

CREATE TABLE public.tickets (
	id bigserial NOT NULL,
	ticket_id int8 NULL,
	assigned_technician int8 NULL,
	user_id int8 NOT NULL,
	title varchar(255) NOT NULL,
	description text NOT NULL,
	priority varchar(50) DEFAULT 'media'::character varying NULL,
	status varchar(50) DEFAULT 'abierto'::character varying NULL,
	creation_date timestamptz DEFAULT now() NULL,
	assignment_date timestamptz NULL,
	resolution_date timestamptz NULL,
	close_date timestamptz NULL,
	category varchar(100) NULL,
	notes text NULL,
	CONSTRAINT tickets_pkey PRIMARY KEY (id),
	CONSTRAINT tickets_assigned_technician_fkey FOREIGN KEY (assigned_technician) REFERENCES public.employees(id),
	CONSTRAINT tickets_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id)
);


-- public.tutoring_assistances definition

-- Drop table

-- DROP TABLE public.tutoring_assistances;

CREATE TABLE public.tutoring_assistances (
	id bigserial NOT NULL,
	id_assistance int8 NULL,
	tutoring_id int8 NULL,
	attended bool NULL,
	observations varchar(500) NULL,
	registration_date timestamptz NULL,
	CONSTRAINT tutoring_assistances_pkey PRIMARY KEY (id),
	CONSTRAINT tutoring_assistances_tutoring_id_fkey FOREIGN KEY (tutoring_id) REFERENCES public.tutorings(id)
);


-- public.accreditations definition

-- Drop table

-- DROP TABLE public.accreditations;

CREATE TABLE public.accreditations (
	id bigserial NOT NULL,
	entity varchar(255) NULL,
	accreditation_date date NULL,
	expiration_date date NULL,
	"result" varchar(255) NULL,
	document_version_id int8 NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT accreditations_pkey PRIMARY KEY (id),
	CONSTRAINT accreditations_document_version_id_fkey FOREIGN KEY (document_version_id) REFERENCES public.document_versions(id)
);


-- public.attempts definition

-- Drop table

-- DROP TABLE public.attempts;

CREATE TABLE public.attempts (
	id bigserial NOT NULL,
	evaluation_id int8 NOT NULL,
	user_id int8 NOT NULL,
	start_date timestamptz NOT NULL,
	end_date timestamptz NULL,
	answers jsonb NOT NULL,
	obtained_score numeric(5, 2) NULL,
	status varchar(20) DEFAULT 'In_progress'::character varying NULL,
	CONSTRAINT attempts_pkey PRIMARY KEY (id),
	CONSTRAINT attempts_status_check CHECK (((status)::text = ANY (ARRAY[('In_progress'::character varying)::text, ('Completed'::character varying)::text, ('Abandoned'::character varying)::text]))),
	CONSTRAINT attempts_evaluation_id_fkey FOREIGN KEY (evaluation_id) REFERENCES public.evaluations(id) ON DELETE CASCADE,
	CONSTRAINT attempts_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE
);


-- public.attendances definition

-- Drop table

-- DROP TABLE public.attendances;

CREATE TABLE public.attendances (
	id bigserial NOT NULL,
	group_participant_id int8 NOT NULL,
	class_id int8 NOT NULL,
	attended varchar(3) DEFAULT 'NO'::character varying NULL,
	entry_time timestamptz NULL,
	exit_time timestamptz NULL,
	connected_minutes int8 DEFAULT 0 NULL,
	connection_ip varchar(45) NULL,
	device varchar(100) NULL,
	approximate_location varchar(100) NULL,
	connection_quality varchar(12) NULL,
	observations varchar(200) NULL,
	cloud_synchronized bool DEFAULT false NULL,
	record_date timestamptz DEFAULT now() NULL,
	CONSTRAINT attendances_attended_check CHECK (((attended)::text = ANY (ARRAY[('YES'::character varying)::text, ('NO'::character varying)::text]))),
	CONSTRAINT attendances_connected_minutes_check CHECK ((connected_minutes >= 0)),
	CONSTRAINT attendances_connection_quality_check CHECK (((connection_quality)::text = ANY (ARRAY[('EXCELLENT'::character varying)::text, ('GOOD'::character varying)::text, ('FAIR'::character varying)::text, ('POOR'::character varying)::text]))),
	CONSTRAINT attendances_pkey PRIMARY KEY (id),
	CONSTRAINT uq_attendance UNIQUE (group_participant_id, class_id),
	CONSTRAINT attendances_class_id_fkey FOREIGN KEY (class_id) REFERENCES public.classes(id) ON DELETE CASCADE,
	CONSTRAINT attendances_group_participant_id_fkey FOREIGN KEY (group_participant_id) REFERENCES public.group_participants(id) ON DELETE CASCADE
);


-- public.audits definition

-- Drop table

-- DROP TABLE public.audits;

CREATE TABLE public.audits (
	id bigserial NOT NULL,
	area varchar(255) NULL,
	user_id int8 NULL,
	start_date date NULL,
	end_date date NULL,
	summary_results text NULL,
	report_document_version_id int8 NULL,
	"type" varchar(13) NULL,
	state varchar(16) NULL,
	objective varchar(255) NULL,
	"range" varchar(255) NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT audits_pkey PRIMARY KEY (id),
	CONSTRAINT audits_state_check CHECK (((state)::text = ANY (ARRAY[('planned'::character varying)::text, ('in_progress'::character varying)::text, ('completed'::character varying)::text, ('cancelled'::character varying)::text]))),
	CONSTRAINT audits_type_check CHECK (((type)::text = ANY (ARRAY[('internal'::character varying)::text, ('external'::character varying)::text]))),
	CONSTRAINT audits_report_document_version_id_fkey FOREIGN KEY (report_document_version_id) REFERENCES public.document_versions(id),
	CONSTRAINT audits_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id)
);


-- public.claim_assignments definition

-- Drop table

-- DROP TABLE public.claim_assignments;

CREATE TABLE public.claim_assignments (
	id bigserial NOT NULL,
	id_assignment int8 NULL,
	claim_id int8 NULL,
	responsible_id int8 NULL,
	"comments" varchar(500) NULL,
	event_date timestamptz NULL,
	CONSTRAINT claim_assignments_pkey PRIMARY KEY (id),
	CONSTRAINT claim_assignments_claim_id_fkey FOREIGN KEY (claim_id) REFERENCES public.claims(id),
	CONSTRAINT claim_assignments_responsible_id_fkey FOREIGN KEY (responsible_id) REFERENCES public.employees(id)
);


-- public.contact_forms definition

-- Drop table

-- DROP TABLE public.contact_forms;

CREATE TABLE public.contact_forms (
	id bigserial NOT NULL,
	id_contact int8 NULL,
	full_name varchar(255) NOT NULL,
	email varchar(255) NOT NULL,
	phone varchar(20) NULL,
	company varchar(255) NULL,
	subject varchar(255) NULL,
	message text NOT NULL,
	form_type varchar(50) NULL,
	status varchar(50) DEFAULT 'pending'::character varying NULL,
	assigned_to int8 NULL,
	response text NULL,
	response_date timestamptz NULL,
	submission_date timestamptz DEFAULT now() NULL,
	CONSTRAINT contact_forms_pkey PRIMARY KEY (id),
	CONSTRAINT contact_forms_assigned_to_fkey FOREIGN KEY (assigned_to) REFERENCES public.employees(id)
);


-- public.detail_evaluation_criteria definition

-- Drop table

-- DROP TABLE public.detail_evaluation_criteria;

CREATE TABLE public.detail_evaluation_criteria (
	id bigserial NOT NULL,
	id_detail_evaluation_criteria int8 NULL,
	id_evaluation_criteria int8 NOT NULL,
	id_option_criteria int8 NULL,
	id_instructor_evaluation int8 NOT NULL,
	numeric_response float8 NULL,
	response_text varchar(255) NULL,
	CONSTRAINT detail_evaluation_criteria_pkey PRIMARY KEY (id),
	CONSTRAINT detail_evaluation_criteria_id_evaluation_criteria_fkey FOREIGN KEY (id_evaluation_criteria) REFERENCES public.evaluation_criteria(id),
	CONSTRAINT detail_evaluation_criteria_id_instructor_evaluation_fkey FOREIGN KEY (id_instructor_evaluation) REFERENCES public.instructor_evaluations(id),
	CONSTRAINT detail_evaluation_criteria_id_option_criteria_fkey FOREIGN KEY (id_option_criteria) REFERENCES public.option_criteria(id)
);


-- public.document_audits definition

-- Drop table

-- DROP TABLE public.document_audits;

CREATE TABLE public.document_audits (
	id bigserial NOT NULL,
	audit_id int8 NULL,
	version_document_id int8 NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT document_audits_pkey PRIMARY KEY (id),
	CONSTRAINT document_audits_audit_id_fkey FOREIGN KEY (audit_id) REFERENCES public.audits(id),
	CONSTRAINT document_audits_version_document_id_fkey FOREIGN KEY (version_document_id) REFERENCES public.document_versions(id)
);


-- public.employee_trainings definition

-- Drop table

-- DROP TABLE public.employee_trainings;

CREATE TABLE public.employee_trainings (
	employee_id int8 NOT NULL,
	training_id int8 NOT NULL,
	attended bool DEFAULT false NULL,
	grade numeric(5, 2) NULL,
	issue_date date NULL,
	expiration_date date NULL,
	certificate varchar(255) NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT employee_trainings_pkey PRIMARY KEY (employee_id, training_id),
	CONSTRAINT employee_trainings_employee_id_fkey FOREIGN KEY (employee_id) REFERENCES public.employees(id),
	CONSTRAINT employee_trainings_training_id_fkey FOREIGN KEY (training_id) REFERENCES public.trainings(id)
);


-- public.enrollment_details definition

-- Drop table

-- DROP TABLE public.enrollment_details;

CREATE TABLE public.enrollment_details (
	id bigserial NOT NULL,
	enrollment_id int8 NULL,
	subject_id int8 NULL,
	course_offering_id int8 NULL,
	status varchar(50) DEFAULT 'active'::character varying NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT enrollment_details_pkey PRIMARY KEY (id),
	CONSTRAINT enrollment_details_course_offering_id_fkey FOREIGN KEY (course_offering_id) REFERENCES public.course_offerings(id),
	CONSTRAINT enrollment_details_enrollment_id_fkey FOREIGN KEY (enrollment_id) REFERENCES public.enrollments(id),
	CONSTRAINT enrollment_details_subject_id_fkey FOREIGN KEY (subject_id) REFERENCES public.subjects(id)
);


-- public.enrollment_payments definition

-- Drop table

-- DROP TABLE public.enrollment_payments;

CREATE TABLE public.enrollment_payments (
	id bigserial NOT NULL,
	enrollment_id int8 NULL,
	student_id int8 NULL,
	amount numeric(10, 2) NULL,
	payment_date date NULL,
	payment_method varchar(50) NULL,
	receipt varchar(100) NULL,
	status varchar(20) NULL,
	CONSTRAINT enrollment_payments_pkey PRIMARY KEY (id),
	CONSTRAINT enrollment_payments_enrollment_id_fkey FOREIGN KEY (enrollment_id) REFERENCES public.enrollments(id),
	CONSTRAINT enrollment_payments_student_id_fkey FOREIGN KEY (student_id) REFERENCES public.students(id)
);


-- public.escalations definition

-- Drop table

-- DROP TABLE public.escalations;

CREATE TABLE public.escalations (
	id bigserial NOT NULL,
	escalation_id int8 NULL,
	ticket_id int8 NOT NULL,
	technician_origin_id int8 NULL,
	technician_destiny_id int8 NULL,
	escalation_reason varchar(255) NULL,
	observations text NULL,
	escalation_date timestamptz DEFAULT now() NULL,
	approved bool DEFAULT false NULL,
	CONSTRAINT escalations_pkey PRIMARY KEY (id),
	CONSTRAINT escalations_technician_destiny_id_fkey FOREIGN KEY (technician_destiny_id) REFERENCES public.employees(id),
	CONSTRAINT escalations_technician_origin_id_fkey FOREIGN KEY (technician_origin_id) REFERENCES public.employees(id),
	CONSTRAINT escalations_ticket_id_fkey FOREIGN KEY (ticket_id) REFERENCES public.tickets(id)
);


-- public.evaluation_reports definition

-- Drop table

-- DROP TABLE public.evaluation_reports;

CREATE TABLE public.evaluation_reports (
	id bigserial NOT NULL,
	id_evaluation_report int8 NULL,
	id_instructor int8 NOT NULL,
	id_instructor_evaluation int8 NOT NULL,
	id_curse int8 NOT NULL,
	overall_average float8 NULL,
	evaluation_period float8 NULL,
	total_evaluations float8 NULL,
	generation_date timestamptz NULL,
	CONSTRAINT evaluation_reports_pkey PRIMARY KEY (id),
	CONSTRAINT evaluation_reports_id_curse_fkey FOREIGN KEY (id_curse) REFERENCES public.courses(id),
	CONSTRAINT evaluation_reports_id_instructor_evaluation_fkey FOREIGN KEY (id_instructor_evaluation) REFERENCES public.instructor_evaluations(id),
	CONSTRAINT evaluation_reports_id_instructor_fkey FOREIGN KEY (id_instructor) REFERENCES public.instructors(id)
);


-- public.final_grades definition

-- Drop table

-- DROP TABLE public.final_grades;

CREATE TABLE public.final_grades (
	id bigserial NOT NULL,
	user_id int8 NOT NULL,
	group_id int8 NOT NULL,
	configuration_id int8 NOT NULL,
	final_grade numeric(5, 2) NOT NULL,
	partial_average numeric(5, 2) NULL,
	program_status varchar(20) NOT NULL,
	certification_obtained bool DEFAULT false NULL,
	calculation_date timestamptz DEFAULT now() NULL,
	CONSTRAINT final_grades_pkey PRIMARY KEY (id),
	CONSTRAINT final_grades_program_status_check CHECK (((program_status)::text = ANY (ARRAY[('Passed'::character varying)::text, ('Failed'::character varying)::text, ('Withdrawn'::character varying)::text, ('In_progress'::character varying)::text]))),
	CONSTRAINT uq_final_user_group UNIQUE (user_id, group_id),
	CONSTRAINT final_grades_configuration_id_fkey FOREIGN KEY (configuration_id) REFERENCES public.grade_configurations(id) ON DELETE CASCADE,
	CONSTRAINT final_grades_group_id_fkey FOREIGN KEY (group_id) REFERENCES public."groups"(id) ON DELETE CASCADE,
	CONSTRAINT final_grades_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE
);


-- public.financial_transactions definition

-- Drop table

-- DROP TABLE public.financial_transactions;

CREATE TABLE public.financial_transactions (
	id bigserial NOT NULL,
	account_id int8 NOT NULL,
	amount numeric(12, 2) NOT NULL,
	transaction_date date NOT NULL,
	description varchar(255) NULL,
	transaction_type varchar(10) NOT NULL,
	invoice_id int8 NULL,
	payment_id int8 NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT financial_transactions_pkey PRIMARY KEY (id),
	CONSTRAINT financial_transactions_transaction_type_check CHECK (((transaction_type)::text = ANY (ARRAY[('income'::character varying)::text, ('expense'::character varying)::text]))),
	CONSTRAINT financial_transactions_account_id_fkey FOREIGN KEY (account_id) REFERENCES public.accounts(id) ON DELETE CASCADE,
	CONSTRAINT financial_transactions_invoice_id_fkey FOREIGN KEY (invoice_id) REFERENCES public.invoices(id) ON DELETE SET NULL,
	CONSTRAINT financial_transactions_payment_id_fkey FOREIGN KEY (payment_id) REFERENCES public.payments(id) ON DELETE SET NULL
);


-- public.findings definition

-- Drop table

-- DROP TABLE public.findings;

CREATE TABLE public.findings (
	id bigserial NOT NULL,
	audit_id int8 NULL,
	description varchar(255) NULL,
	classification varchar(255) NULL,
	evidence varchar(255) NULL,
	severity varchar(20) DEFAULT 'medium'::character varying NULL,
	discovery_date timestamptz NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT findings_pkey PRIMARY KEY (id),
	CONSTRAINT findings_severity_check CHECK (((severity)::text = ANY (ARRAY[('low'::character varying)::text, ('medium'::character varying)::text, ('high'::character varying)::text]))),
	CONSTRAINT findings_audit_id_fkey FOREIGN KEY (audit_id) REFERENCES public.audits(id)
);


-- public.grade_changes definition

-- Drop table

-- DROP TABLE public.grade_changes;

CREATE TABLE public.grade_changes (
	id bigserial NOT NULL,
	record_id int8 NOT NULL,
	previous_grade numeric(5, 2) NOT NULL,
	new_grade numeric(5, 2) NOT NULL,
	reason text NOT NULL,
	user_id int8 NOT NULL,
	change_date timestamptz DEFAULT now() NULL,
	CONSTRAINT grade_changes_pkey PRIMARY KEY (id),
	CONSTRAINT grade_changes_record_id_fkey FOREIGN KEY (record_id) REFERENCES public.grade_records(id) ON DELETE CASCADE,
	CONSTRAINT grade_changes_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE RESTRICT
);


-- public.gradings definition

-- Drop table

-- DROP TABLE public.gradings;

CREATE TABLE public.gradings (
	id bigserial NOT NULL,
	attempt_id int8 NOT NULL,
	teacher_grader_id int8 NULL,
	grading_detail jsonb NOT NULL,
	feedback text NULL,
	grading_date timestamptz DEFAULT now() NULL,
	CONSTRAINT gradings_pkey PRIMARY KEY (id),
	CONSTRAINT uq_grading_per_attempt UNIQUE (attempt_id),
	CONSTRAINT gradings_attempt_id_fkey FOREIGN KEY (attempt_id) REFERENCES public.attempts(id) ON DELETE CASCADE,
	CONSTRAINT gradings_teacher_grader_id_fkey FOREIGN KEY (teacher_grader_id) REFERENCES public.users(id) ON DELETE SET NULL
);


-- public.initiative_evaluations definition

-- Drop table

-- DROP TABLE public.initiative_evaluations;

CREATE TABLE public.initiative_evaluations (
	id bigserial NOT NULL,
	initiative_id int8 NOT NULL,
	evaluator_user_id int8 NULL,
	evaluation_date date NULL,
	summary text NULL,
	score numeric(5, 2) NULL,
	report_document_version_id int8 NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT initiative_evaluations_pkey PRIMARY KEY (id),
	CONSTRAINT initiative_evaluations_evaluator_user_id_fkey FOREIGN KEY (evaluator_user_id) REFERENCES public.users(id),
	CONSTRAINT initiative_evaluations_initiative_id_fkey FOREIGN KEY (initiative_id) REFERENCES public.initiatives(id)
);


-- public.job_applications definition

-- Drop table

-- DROP TABLE public.job_applications;

CREATE TABLE public.job_applications (
	id bigserial NOT NULL,
	candidate_id int8 NULL,
	vacancy_id int8 NULL,
	status varchar(20) NULL,
	application_date date NULL,
	CONSTRAINT job_applications_pkey PRIMARY KEY (id),
	CONSTRAINT job_applications_status_check CHECK (((status)::text = ANY (ARRAY[('Review'::character varying)::text, ('Interview'::character varying)::text, ('Hired'::character varying)::text, ('Rejected'::character varying)::text]))),
	CONSTRAINT job_applications_candidate_id_fkey FOREIGN KEY (candidate_id) REFERENCES public.candidates(id),
	CONSTRAINT job_applications_vacancy_id_fkey FOREIGN KEY (vacancy_id) REFERENCES public.job_vacancies(id)
);


-- public.kpis definition

-- Drop table

-- DROP TABLE public.kpis;

CREATE TABLE public.kpis (
	id bigserial NOT NULL,
	objective_id int8 NOT NULL,
	"name" varchar(255) NOT NULL,
	description text NULL,
	target_value numeric(12, 2) NULL,
	unit varchar(50) NULL,
	frequency varchar(50) NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT kpis_pkey PRIMARY KEY (id),
	CONSTRAINT kpis_objective_id_fkey FOREIGN KEY (objective_id) REFERENCES public.strategic_objectives(id)
);


-- public.moderations definition

-- Drop table

-- DROP TABLE public.moderations;

CREATE TABLE public.moderations (
	id bigserial NOT NULL,
	id_moderation int8 NULL,
	publicacion_id int8 NULL,
	admin_id int8 NULL,
	"action" varchar(50) NULL,
	"comment" varchar(200) NULL,
	revision_date timestamptz NULL,
	CONSTRAINT moderations_pkey PRIMARY KEY (id),
	CONSTRAINT moderations_admin_id_fkey FOREIGN KEY (admin_id) REFERENCES public.users(id),
	CONSTRAINT moderations_publicacion_id_fkey FOREIGN KEY (publicacion_id) REFERENCES public.publications(id)
);


-- public.satisfaction_options definition

-- Drop table

-- DROP TABLE public.satisfaction_options;

CREATE TABLE public.satisfaction_options (
	id bigserial NOT NULL,
	id_satisfaction_option int8 NULL,
	id_question int8 NOT NULL,
	option_text varchar(255) NULL,
	CONSTRAINT satisfaction_options_pkey PRIMARY KEY (id),
	CONSTRAINT satisfaction_options_id_question_fkey FOREIGN KEY (id_question) REFERENCES public.satisfaction_questions(id)
);


-- public.satisfaction_responses definition

-- Drop table

-- DROP TABLE public.satisfaction_responses;

CREATE TABLE public.satisfaction_responses (
	id bigserial NOT NULL,
	id_satisfaction_response int8 NULL,
	id_student int8 NOT NULL,
	id_question int8 NOT NULL,
	id_opcion int8 NULL,
	response_text varchar(255) NULL,
	response_date timestamptz NULL,
	CONSTRAINT satisfaction_responses_pkey PRIMARY KEY (id),
	CONSTRAINT satisfaction_responses_id_opcion_fkey FOREIGN KEY (id_opcion) REFERENCES public.satisfaction_options(id),
	CONSTRAINT satisfaction_responses_id_question_fkey FOREIGN KEY (id_question) REFERENCES public.satisfaction_questions(id),
	CONSTRAINT satisfaction_responses_id_student_fkey FOREIGN KEY (id_student) REFERENCES public.students(id)
);


-- public.task_assignments definition

-- Drop table

-- DROP TABLE public.task_assignments;

CREATE TABLE public.task_assignments (
	id bigserial NOT NULL,
	task_id int8 NOT NULL,
	user_id int8 NOT NULL,
	assigned_by_user_id int8 NULL,
	assigned_at timestamptz DEFAULT now() NULL,
	CONSTRAINT task_assignments_pkey PRIMARY KEY (id),
	CONSTRAINT task_assignments_assigned_by_user_id_fkey FOREIGN KEY (assigned_by_user_id) REFERENCES public.users(id),
	CONSTRAINT task_assignments_task_id_fkey FOREIGN KEY (task_id) REFERENCES public.tasks(id),
	CONSTRAINT task_assignments_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id)
);


-- public.ticket_trackings definition

-- Drop table

-- DROP TABLE public.ticket_trackings;

CREATE TABLE public.ticket_trackings (
	id bigserial NOT NULL,
	ticket_tracking_id int8 NULL,
	ticket_id int8 NOT NULL,
	"comment" text NULL,
	action_type varchar(50) NULL,
	follow_up_date timestamptz DEFAULT now() NULL,
	CONSTRAINT ticket_trackings_pkey PRIMARY KEY (id),
	CONSTRAINT ticket_trackings_ticket_id_fkey FOREIGN KEY (ticket_id) REFERENCES public.tickets(id)
);


-- public.audit_reports definition

-- Drop table

-- DROP TABLE public.audit_reports;

CREATE TABLE public.audit_reports (
	id bigserial NOT NULL,
	audit_id int8 NULL,
	version_document_id int8 NULL,
	resume varchar(255) NULL,
	recommendations varchar(255) NULL,
	indicators varchar(255) NULL,
	generation_date date NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT audit_reports_pkey PRIMARY KEY (id),
	CONSTRAINT audit_reports_audit_id_fkey FOREIGN KEY (audit_id) REFERENCES public.audits(id),
	CONSTRAINT audit_reports_version_document_id_fkey FOREIGN KEY (version_document_id) REFERENCES public.document_versions(id)
);


-- public.corrective_actions definition

-- Drop table

-- DROP TABLE public.corrective_actions;

CREATE TABLE public.corrective_actions (
	id bigserial NOT NULL,
	finding_id int8 NULL,
	user_id int8 NULL,
	description varchar(255) NULL,
	status varchar(20) DEFAULT 'pending'::character varying NULL,
	engagement_date date NULL,
	due_date date NULL,
	completion_date date NULL,
	created_at timestamptz DEFAULT now() NULL,
	updated_at timestamptz DEFAULT now() NULL,
	CONSTRAINT corrective_actions_pkey PRIMARY KEY (id),
	CONSTRAINT corrective_actions_status_check CHECK (((status)::text = ANY (ARRAY[('pending'::character varying)::text, ('in_progress'::character varying)::text, ('completed'::character varying)::text, ('cancelled'::character varying)::text]))),
	CONSTRAINT corrective_actions_finding_id_fkey FOREIGN KEY (finding_id) REFERENCES public.findings(id),
	CONSTRAINT corrective_actions_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id)
);


-- public.kpi_measurements definition

-- Drop table

-- DROP TABLE public.kpi_measurements;

CREATE TABLE public.kpi_measurements (
	id bigserial NOT NULL,
	kpi_id int8 NOT NULL,
	measured_at date NOT NULL,
	value numeric(12, 4) NULL,
	"source" varchar(255) NULL,
	recorded_by_user_id int8 NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT kpi_measurements_pkey PRIMARY KEY (id),
	CONSTRAINT kpi_measurements_kpi_id_fkey FOREIGN KEY (kpi_id) REFERENCES public.kpis(id),
	CONSTRAINT kpi_measurements_recorded_by_user_id_fkey FOREIGN KEY (recorded_by_user_id) REFERENCES public.users(id)
);


-- public.evidences definition

-- Drop table

-- DROP TABLE public.evidences;

CREATE TABLE public.evidences (
	id bigserial NOT NULL,
	initiative_id int8 NULL,
	document_version_id int8 NOT NULL,
	description text NULL,
	kpi_measurement_id int8 NULL,
	created_at timestamptz DEFAULT now() NULL,
	CONSTRAINT evidences_pkey PRIMARY KEY (id),
	CONSTRAINT evidences_document_version_id_fkey FOREIGN KEY (document_version_id) REFERENCES public.document_versions(id),
	CONSTRAINT evidences_initiative_id_fkey FOREIGN KEY (initiative_id) REFERENCES public.initiatives(id),
	CONSTRAINT evidences_kpi_measurement_id_fkey FOREIGN KEY (kpi_measurement_id) REFERENCES public.kpi_measurements(id)
);