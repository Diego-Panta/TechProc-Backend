{
  "info": {
    "name": "Positions CRUD API",
    "description": "Colección de endpoints para el CRUD de Positions",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "1. GET - Listar todos los positions",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/administrator/positions",
          "host": ["{{base_url}}"],
          "path": ["api", "administrator", "positions"]
        },
        "description": "Obtiene la lista completa de todas las posiciones con sus departamentos"
      }
    },
    {
      "name": "1.1. GET - Filtrar positions por department_id",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/administrator/positions?department_id=3",
          "host": ["{{base_url}}"],
          "path": ["api", "administrator", "positions"],
          "query": [
            {
              "key": "department_id",
              "value": "3",
              "description": "ID del departamento"
            }
          ]
        },
        "description": "Filtra y obtiene solo las posiciones del departamento con ID 3"
      }
    },
    {
      "name": "1.2. GET - Filtrar positions por nombre",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/administrator/positions?position_name=Developer",
          "host": ["{{base_url}}"],
          "path": ["api", "administrator", "positions"],
          "query": [
            {
              "key": "position_name",
              "value": "Developer",
              "description": "Búsqueda parcial por nombre de posición (case insensitive)"
            }
          ]
        },
        "description": "Busca posiciones cuyo nombre contenga 'Developer' (no distingue mayúsculas/minúsculas)"
      }
    },
    {
      "name": "1.3. GET - Filtros combinados",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/administrator/positions?department_id=3&position_name=Manager",
          "host": ["{{base_url}}"],
          "path": ["api", "administrator", "positions"],
          "query": [
            {
              "key": "department_id",
              "value": "3",
              "description": "ID del departamento"
            },
            {
              "key": "position_name",
              "value": "Manager",
              "description": "Búsqueda parcial por nombre"
            }
          ]
        },
        "description": "Combina múltiples filtros: busca posiciones del departamento 3 que contengan 'Manager' en su nombre"
      }
    },
    {
      "name": "2. POST - Crear nuevo position",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"position_name\": \"Desarrollador Senior\",\n  \"department_id\": 1\n}"
        },
        "url": {
          "raw": "{{base_url}}/api/administrator/positions",
          "host": ["{{base_url}}"],
          "path": ["api", "administrator", "positions"]
        },
        "description": "Crea una nueva posición. El department_id debe existir en la tabla departments."
      }
    },
    {
      "name": "3. GET - Obtener position por ID",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/administrator/positions/1",
          "host": ["{{base_url}}"],
          "path": ["api", "administrator", "positions", "1"]
        },
        "description": "Obtiene una posición específica por su ID. Incluye relaciones con department y employees con sus usuarios."
      }
    },
    {
      "name": "4. PUT - Actualizar position completo",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"position_name\": \"Desarrollador Full Stack Senior\",\n  \"department_id\": 2\n}"
        },
        "url": {
          "raw": "{{base_url}}/api/administrator/positions/1",
          "host": ["{{base_url}}"],
          "path": ["api", "administrator", "positions", "1"]
        },
        "description": "Actualiza todos los campos de una posición existente"
      }
    },
    {
      "name": "5. PATCH - Actualizar position parcialmente",
      "request": {
        "method": "PATCH",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"position_name\": \"Tech Lead\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/api/administrator/positions/1",
          "host": ["{{base_url}}"],
          "path": ["api", "administrator", "positions", "1"]
        },
        "description": "Actualiza solo los campos específicos de una posición"
      }
    },
    {
      "name": "6. DELETE - Eliminar position",
      "request": {
        "method": "DELETE",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/administrator/positions/1",
          "host": ["{{base_url}}"],
          "path": ["api", "administrator", "positions", "1"]
        },
        "description": "Elimina una posición por su ID. NOTA: Si hay empleados asociados, la eliminación podría fallar por restricción de llave foránea."
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000",
      "type": "string"
    }
  ]
}
